import{j as e,m as i}from"./ui-CeF3mqTb.js";import{r as c}from"./router-x15TIwzH.js";import{C as o}from"./Card-BuWKqhYc.js";import{B as u}from"./index-DbxcNNxi.js";import{I as m}from"./Input-3yWY-vqC.js";import{u as W}from"./freedomosStorage-BygRIVa4.js";import{P as O,D as J,w,W as P,i as Y,a4 as _,C as $}from"./icons-BP9Be9z0.js";import{R as k,C as T,T as S,L as K,B as M}from"./generateCategoricalChart-DLticPBC.js";import{P as L,a as U}from"./PieChart-TBdxlQXX.js";import{B as X}from"./BarChart-CT5E37Do.js";import{C as z,X as G,Y as H}from"./YAxis-DqBHu9IX.js";import"./vendor-Csw2ODfV.js";import"./utils-BLxLozLB.js";const ce=()=>{const[s,C]=c.useState(5e4),[r,E]=c.useState(null),[x,g]=c.useState([]),[j,h]=c.useState(!1),[y,D]=c.useState(null),[t,d]=c.useState({month:p(),year:new Date().getFullYear(),saved:0,invested:0,needs:0,wants:0});c.useEffect(()=>{b(),B()},[s]);function p(){return new Date().toLocaleDateString("en-US",{month:"long"})}const b=()=>{const a=Math.round(s*.5),n=Math.round(s*.3),v=Math.round(s*.2),f={income:s,ideal:{needs:a,wants:n,savings:v},actual:{needs:t.needs||a,wants:t.wants||n,savings:(t.saved||0)+(t.invested||0)},totalExpenses:(t.needs||a)+(t.wants||n),savingsRate:(((t.saved||0)+(t.invested||0))/s*100).toFixed(1)};E(f),W(f)},B=()=>{const a=JSON.parse(localStorage.getItem("freedomos_monthly_budgets")||"[]");if(a.length===0){const n=A();g(n),localStorage.setItem("freedomos_monthly_budgets",JSON.stringify(n))}else g(a)},A=()=>["August","September","October","November","December"].map((n,v)=>({id:Date.now()+v,month:n,year:2025,saved:Math.round(s*.1+Math.random()*s*.1),invested:Math.round(s*.1+Math.random()*s*.1),needs:Math.round(s*.5+Math.random()*s*.05),wants:Math.round(s*.3+Math.random()*s*.05),createdAt:new Date().toISOString()})),I=()=>{const n=[{...t,id:Date.now(),createdAt:new Date().toISOString()},...x];g(n),localStorage.setItem("freedomos_monthly_budgets",JSON.stringify(n)),d({month:p(),year:new Date().getFullYear(),saved:0,invested:0,needs:0,wants:0}),h(!1),b()},F=a=>{D(y===a?null:a)},l=a=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(a),N=r?[{name:"Needs (50%)",value:r.ideal.needs,color:"#3B82F6"},{name:"Wants (30%)",value:r.ideal.wants,color:"#F59E0B"},{name:"Savings (20%)",value:r.ideal.savings,color:"#10B981"}]:[];r&&(r.ideal.needs,r.actual.needs,r.ideal.wants,r.actual.wants,r.ideal.savings,r.actual.savings);const R=()=>x.slice(0,6).reverse().map(a=>({month:`${a.month.slice(0,3)} ${a.year}`,saved:a.saved,invested:a.invested,needs:a.needs,wants:a.wants,total:a.saved+a.invested}));return e.jsxs("div",{className:"space-y-6 p-4 bg-gradient-to-br from-slate-50 to-blue-50 dark:from-gray-900 dark:to-blue-900/20 min-h-screen",children:[e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/10 to-yellow-500/10 rounded-2xl blur-xl"}),e.jsx(o,{className:"relative bg-gradient-to-r from-blue-900 to-blue-800 text-white border-yellow-500/20",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h1",{className:"text-2xl sm:text-3xl font-bold flex items-center gap-3",children:[e.jsx(O,{className:"h-8 w-8 text-yellow-400"}),"Budgeting Engine"]}),e.jsx("p",{className:"text-blue-100 text-sm sm:text-base",children:"Master the 50/30/20 rule and track monthly progress"})]})})})]}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsx(o,{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(J,{className:"h-5 w-5 text-yellow-600"}),"Monthly Income"]}),e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(m,{type:"number",value:s,onChange:a=>C(Number(a.target.value)),placeholder:"Enter monthly income",className:"flex-1"}),e.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:l(s)})]})]})})}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsx(o,{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(w,{className:"h-5 w-5 text-green-600"}),"Add Monthly Budget Entry"]}),e.jsxs(u,{variant:"primary",size:"small",onClick:()=>h(!j),className:"flex items-center gap-2",children:[e.jsx(w,{className:"h-4 w-4"}),"Add Entry"]})]}),j&&e.jsxs(i.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4 p-4 bg-white dark:bg-gray-800 rounded-lg border border-green-200 dark:border-green-700",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Month"}),e.jsx("select",{value:t.month,onChange:a=>d({...t,month:a.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:["January","February","March","April","May","June","July","August","September","October","November","December"].map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Year"}),e.jsx(m,{type:"number",value:t.year,onChange:a=>d({...t,year:Number(a.target.value)}),placeholder:"Year"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Amount Saved"}),e.jsx(m,{type:"number",value:t.saved,onChange:a=>d({...t,saved:Number(a.target.value)}),placeholder:"Amount saved"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Amount Invested"}),e.jsx(m,{type:"number",value:t.invested,onChange:a=>d({...t,invested:Number(a.target.value)}),placeholder:"Amount invested"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Needs Spending"}),e.jsx(m,{type:"number",value:t.needs,onChange:a=>d({...t,needs:Number(a.target.value)}),placeholder:"Needs spending"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Wants Spending"}),e.jsx(m,{type:"number",value:t.wants,onChange:a=>d({...t,wants:Number(a.target.value)}),placeholder:"Wants spending"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsxs(u,{variant:"primary",onClick:I,className:"flex items-center gap-2",children:[e.jsx(P,{className:"h-4 w-4"}),"Save Entry"]}),e.jsx(u,{variant:"secondary",onClick:()=>h(!1),children:"Cancel"})]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},children:e.jsx(o,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Ideal 50/30/20 Budget"}),e.jsx("div",{className:"h-64",children:e.jsx(k,{width:"100%",height:"100%",children:e.jsxs(L,{children:[e.jsx(U,{data:N,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:N.map((a,n)=>e.jsx(T,{fill:a.color},`cell-${n}`))}),e.jsx(S,{formatter:a=>l(a)})]})})}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"Needs (50%)"})]}),e.jsx("span",{className:"font-medium",children:l(r?.ideal.needs||0)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-yellow-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"Wants (30%)"})]}),e.jsx("span",{className:"font-medium",children:l(r?.ideal.wants||0)})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"text-sm",children:"Savings (20%)"})]}),e.jsx("span",{className:"font-medium",children:l(r?.ideal.savings||0)})]})]})]})})}),e.jsx(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},children:e.jsx(o,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Monthly Savings Trend"}),e.jsx("div",{className:"h-64",children:e.jsx(k,{width:"100%",height:"100%",children:e.jsxs(X,{data:R(),children:[e.jsx(z,{strokeDasharray:"3 3"}),e.jsx(G,{dataKey:"month"}),e.jsx(H,{tickFormatter:a=>`â‚¹${a/1e3}k`}),e.jsx(S,{formatter:a=>l(a)}),e.jsx(K,{}),e.jsx(M,{dataKey:"saved",fill:"#10B981",name:"Saved"}),e.jsx(M,{dataKey:"invested",fill:"#3B82F6",name:"Invested"})]})})}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Average Monthly Savings"}),e.jsxs("div",{className:`text-2xl font-bold ${r?.savingsRate>=20?"text-green-600":r?.savingsRate>=10?"text-yellow-600":"text-red-600"}`,children:[r?.savingsRate||0,"%"]})]})]})})})]}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:e.jsx(o,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5 text-blue-600"}),"Monthly Budget History"]}),e.jsx("div",{className:"space-y-2",children:x.map((a,n)=>e.jsxs(i.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*n},className:"border border-gray-200 dark:border-gray-700 rounded-lg overflow-hidden",children:[e.jsx("div",{className:"p-4 bg-gray-50 dark:bg-gray-800 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors",onClick:()=>F(a.id),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsxs("div",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:[a.month," ",a.year]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Total Savings: ",l(a.saved+a.invested)]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("div",{className:`text-sm px-2 py-1 rounded-full ${(a.saved+a.invested)/s*100>=20?"bg-green-100 text-green-600":"bg-yellow-100 text-yellow-600"}`,children:[((a.saved+a.invested)/s*100).toFixed(1),"% saved"]}),y===a.id?e.jsx(_,{className:"h-5 w-5 text-gray-400"}):e.jsx($,{className:"h-5 w-5 text-gray-400"})]})]})}),y===a.id&&e.jsxs(i.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"p-4 bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:l(a.saved)}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Saved"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:l(a.invested)}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Invested"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-orange-600",children:l(a.needs)}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Needs"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:l(a.wants)}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Wants"})]})]}),e.jsx("div",{className:"mt-4 pt-4 border-t border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Distribution:",e.jsxs("span",{className:"ml-2",children:["Needs: ",(a.needs/s*100).toFixed(1),"% | Wants: ",(a.wants/s*100).toFixed(1),"% | Savings: ",((a.saved+a.invested)/s*100).toFixed(1),"%"]})]})})]})]},a.id))})]})})})]})};export{ce as default};
