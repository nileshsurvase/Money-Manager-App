import{j as e,m as n}from"./ui-CeF3mqTb.js";import{r as c}from"./router-x15TIwzH.js";import{C as d}from"./Card-BuWKqhYc.js";import{D as Y,B as K}from"./index-DCndX48W.js";import{g as I,a as z,b as H,c as O,n as W,o as $,d as x}from"./coreosStorage-BMmsarWl.js";import{b as N,r as P,Z as w,l as U,h as C,a5 as X,a as q,i as G,d as Z}from"./icons-Dv2osvF6.js";import{R as j,T as u,L as f,C as J}from"./generateCategoricalChart-DLticPBC.js";import{L as Q,a as A}from"./LineChart-0pgzfNF8.js";import{C as D,X as S,Y as F}from"./YAxis-DqBHu9IX.js";import{A as V,a as M}from"./AreaChart-DmOiwmBl.js";import{P as _,a as ee}from"./PieChart-TBdxlQXX.js";import"./vendor-Csw2ODfV.js";import"./utils-D8kRLn_f.js";const ye=()=>{const[T,k]=c.useState(!0),[o,B]=c.useState("week"),[l,E]=c.useState({tasks:[],habits:[],fitness:[],mental:[],streaks:{},insights:[]});c.useEffect(()=>{L()},[o]);const L=async()=>{k(!0);try{const[t,s,a,r]=await Promise.all([I(),z(),H(),O()]),y=W(),i=$(),m={tasks:x("tasks"),habits:x("habits"),fitness:x("fitness"),mental:x("mental")};E({tasks:t,habits:s,fitness:a,mental:r,streaks:m,weeklyData:y,monthlyData:i,insights:R(t,s,a,r,m)})}catch(t){console.error("Error loading analytics:",t)}finally{k(!1)}},R=(t,s,a,r,y)=>{const i=[],m=t.filter(p=>p.completed).length,g=t.length>0?m/t.length*100:0;g>=80?i.push({type:"positive",icon:N,title:"Task Master!",message:`Outstanding! You've completed ${g.toFixed(0)}% of your tasks today.`,action:"Keep up the momentum!"}):g<50&&i.push({type:"warning",icon:P,title:"Focus Needed",message:"Your task completion is below 50%. Consider prioritizing your most important tasks.",action:"Break large tasks into smaller ones"}),s.filter(p=>p.completed).length;const v=Math.max(...Object.values(y));return v>=7&&i.push({type:"positive",icon:w,title:"Streak Legend!",message:`Amazing ${v}-day streak! You're building unstoppable momentum.`,action:"Celebrate this milestone!"}),a?.dailyScore>=80&&i.push({type:"positive",icon:U,title:"Fitness Champion!",message:"Your fitness score is excellent today. Your body thanks you!",action:"Maintain this energy level"}),r?.dailyScore>=80&&i.push({type:"positive",icon:C,title:"Mental Wellness",message:"Your mental health score is great. You're in a good headspace!",action:"Share positivity with others"}),i.push({type:"recommendation",icon:X,title:"AI Recommendation",message:"Based on your patterns, consider scheduling your most important tasks in the morning when your energy is highest.",action:"Try morning productivity blocks"}),i},b=c.useMemo(()=>{const t=o==="week"?7:o==="month"?30:90,s=[];for(let a=t-1;a>=0;a--){const r=new Date;r.setDate(r.getDate()-a),s.push({date:r.toLocaleDateString("en-US",{month:"short",day:"numeric"}),tasks:Math.floor(Math.random()*10)+5,habits:Math.floor(Math.random()*8)+3,fitness:Math.floor(Math.random()*100)+50,mental:Math.floor(Math.random()*100)+40})}return s},[o]),h=[{name:"Tasks",value:l.tasks.length,color:"#3B82F6"},{name:"Habits",value:l.habits.length,color:"#10B981"},{name:"Fitness",value:l.fitness?.exercises?.length||0,color:"#F59E0B"},{name:"Mental",value:l.mental?.sessions?.length||0,color:"#8B5CF6"}];return T?e.jsx(Y,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-purple-600 to-blue-600 bg-clip-text text-transparent",children:"CoreOS Analytics"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"AI-powered insights and progress tracking"})]}),e.jsx("div",{className:"flex items-center space-x-2 mt-4 sm:mt-0",children:["week","month","quarter"].map(t=>e.jsx(K,{variant:o===t?"primary":"secondary",size:"sm",onClick:()=>B(t),className:"capitalize",children:t},t))})]}),e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsxs(d,{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(q,{className:"h-5 w-5 text-purple-500"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"AI Insights & Recommendations"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:l.insights.map((t,s)=>e.jsx(n.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1+s*.05},className:`p-4 rounded-lg border-l-4 ${t.type==="positive"?"bg-green-50 dark:bg-green-900/20 border-green-500":t.type==="warning"?"bg-yellow-50 dark:bg-yellow-900/20 border-yellow-500":"bg-blue-50 dark:bg-blue-900/20 border-blue-500"}`,children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(t.icon,{className:`h-5 w-5 mt-0.5 ${t.type==="positive"?"text-green-600":t.type==="warning"?"text-yellow-600":"text-blue-600"}`}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:t.message}),e.jsxs("p",{className:"text-xs font-medium text-purple-600 dark:text-purple-400 mt-2",children:["ðŸ’¡ ",t.action]})]})]})},s))})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsxs(d,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Activity Trends"}),e.jsx(G,{className:"h-5 w-5 text-green-500"})]}),e.jsx(j,{width:"100%",height:300,children:e.jsxs(Q,{data:b,children:[e.jsx(D,{strokeDasharray:"3 3"}),e.jsx(S,{dataKey:"date"}),e.jsx(F,{}),e.jsx(u,{}),e.jsx(f,{}),e.jsx(A,{type:"monotone",dataKey:"tasks",stroke:"#3B82F6",strokeWidth:2}),e.jsx(A,{type:"monotone",dataKey:"habits",stroke:"#10B981",strokeWidth:2})]})})]})}),e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsxs(d,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Wellness Scores"}),e.jsx(C,{className:"h-5 w-5 text-red-500"})]}),e.jsx(j,{width:"100%",height:300,children:e.jsxs(V,{data:b,children:[e.jsx(D,{strokeDasharray:"3 3"}),e.jsx(S,{dataKey:"date"}),e.jsx(F,{}),e.jsx(u,{}),e.jsx(f,{}),e.jsx(M,{type:"monotone",dataKey:"fitness",stackId:"1",stroke:"#F59E0B",fill:"#FEF3C7"}),e.jsx(M,{type:"monotone",dataKey:"mental",stackId:"1",stroke:"#8B5CF6",fill:"#EDE9FE"})]})})]})})]}),e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:e.jsxs(d,{children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Activity Distribution"}),e.jsx(Z,{className:"h-5 w-5 text-purple-500"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsx("div",{children:e.jsx(j,{width:"100%",height:250,children:e.jsxs(_,{children:[e.jsx(ee,{data:h,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",children:h.map((t,s)=>e.jsx(J,{fill:t.color},`cell-${s}`))}),e.jsx(u,{}),e.jsx(f,{})]})})}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Today's Focus Areas"}),h.map((t,s)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-3 h-3 rounded-full",style:{backgroundColor:t.color}}),e.jsx("span",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:t.name})]}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.value," items"]})]},s))]})]})]})}),e.jsx(n.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:e.jsxs(d,{children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[e.jsx(N,{className:"h-5 w-5 text-yellow-500"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Achievements & Streaks"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:Object.entries(l.streaks).map(([t,s],a)=>e.jsxs(n.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.1+a*.05},className:"text-center p-4 bg-gradient-to-br from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20 rounded-lg",children:[e.jsx(w,{className:"h-8 w-8 text-orange-500 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:s}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 capitalize",children:[t," Streak"]})]},t))})]})})]})};export{ye as default};
