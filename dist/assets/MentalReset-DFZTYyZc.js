import{j as e}from"./ui-CeF3mqTb.js";import{r as l}from"./router-x15TIwzH.js";import{C as i}from"./Card-BuWKqhYc.js";import{aa as U,B as r}from"./index-DbxcNNxi.js";import{I}from"./Input-3yWY-vqC.js";import{M,S as V}from"./Select-BqqbDTNT.js";import{c as Z,d as J,l as K,m as X}from"./coreosStorage-CPXBKsLp.js";import{al as N,g,a0 as T,ad as _,ag as ee,af as se,$ as te,ab as ae,w as re}from"./icons-BP9Be9z0.js";import"./vendor-Csw2ODfV.js";import"./utils-BLxLozLB.js";const ue=()=>{const[$,S]=l.useState(!0),[t,P]=l.useState(null),[m,k]=l.useState("overview"),[E,x]=l.useState(!1),[z,o]=l.useState(!1),[H,R]=l.useState(0),[b,y]=l.useState(!1),[p,f]=l.useState(0),[ne,B]=l.useState("meditation"),[n,h]=l.useState({mood:5,stress:5,energy:5,notes:"",emotions:[],stressors:[],gratitude:[]}),[u,v]=l.useState({type:"meditation",duration:10,technique:"",effectiveness:5,notes:""}),w=[{id:"meditation",name:"Meditation",icon:"🧘",description:"Mindfulness meditation"},{id:"breathwork",name:"Breathwork",icon:"💨",description:"Breathing exercises"},{id:"mindfulness",name:"Mindfulness",icon:"🌸",description:"Present moment awareness"},{id:"body-scan",name:"Body Scan",icon:"🫀",description:"Progressive relaxation"}],D=[{id:"happy",name:"Happy",emoji:"😊",color:"bg-yellow-100 text-yellow-800"},{id:"calm",name:"Calm",emoji:"😌",color:"bg-blue-100 text-blue-800"},{id:"anxious",name:"Anxious",emoji:"😰",color:"bg-orange-100 text-orange-800"},{id:"sad",name:"Sad",emoji:"😢",color:"bg-gray-100 text-gray-800"},{id:"angry",name:"Angry",emoji:"😠",color:"bg-red-100 text-red-800"},{id:"excited",name:"Excited",emoji:"🤩",color:"bg-purple-100 text-purple-800"},{id:"tired",name:"Tired",emoji:"😴",color:"bg-indigo-100 text-indigo-800"},{id:"grateful",name:"Grateful",emoji:"🙏",color:"bg-green-100 text-green-800"}];l.useEffect(()=>{C()},[]),l.useEffect(()=>{let s;return b&&(s=setInterval(()=>{f(a=>a+1)},1e3)),()=>clearInterval(s)},[b]);const C=async()=>{S(!0);try{const s=await Z(),a=J("mental");P(s),R(a)}catch(s){console.error("Error loading mental health data:",s)}finally{S(!1)}},d=l.useMemo(()=>{if(!t)return{};const s=t.goals.dailyMeditation>0?t.totalMeditationTime/t.goals.dailyMeditation*100:0;return{hasCheckedIn:!!t.checkIn,mood:t.mood||"Not checked",dailyScore:t.dailyScore,totalMeditationTime:t.totalMeditationTime,meditationSessions:t.meditations.length,meditationProgress:Math.min(100,s)}},[t]),O=async()=>{await X(n.mood,n.stress,n.energy,n.notes)&&(await C(),h({mood:5,stress:5,energy:5,notes:"",emotions:[],stressors:[],gratitude:[]}),x(!1))},W=async()=>{if(p===0)return;const s=Math.round(p/60);await K(u.type,s,u.notes)&&(await C(),f(0),y(!1),o(!1))},F=()=>{y(!0)},q=()=>{y(!1)},A=()=>{y(!1),f(0)},Y=s=>{const a=Math.floor(s/60),j=s%60;return`${a.toString().padStart(2,"0")}:${j.toString().padStart(2,"0")}`},c=s=>s>=8?{icon:"😊",color:"text-green-600",label:"Excellent"}:s>=6?{icon:"🙂",color:"text-blue-600",label:"Good"}:s>=4?{icon:"😐",color:"text-yellow-600",label:"Okay"}:s>=2?{icon:"🙁",color:"text-orange-600",label:"Poor"}:{icon:"😢",color:"text-red-600",label:"Very Poor"},G=s=>s<=3?"text-green-600":s<=6?"text-yellow-600":"text-red-600",L=s=>s>=7?"text-green-600":s>=4?"text-yellow-600":"text-red-600",Q=s=>{h(a=>({...a,emotions:a.emotions.includes(s)?a.emotions.filter(j=>j!==s):[...a.emotions,s]}))};return $?e.jsx(U,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Mental Reset"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track your mental wellness and practice mindfulness"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(r,{variant:"secondary",onClick:()=>o(!0),children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),"Meditate"]}),e.jsxs(r,{variant:"primary",onClick:()=>x(!0),disabled:d.hasCheckedIn,children:[e.jsx(g,{className:"h-4 w-4 mr-2"}),d.hasCheckedIn?"Checked In":"Check In"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(i,{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-3",children:e.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-full",children:e.jsx(T,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})}),e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:[d.dailyScore,"%"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Wellness Score"}),e.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1",children:[e.jsx("span",{className:"text-2xl",children:"🧠"}),e.jsx("span",{className:"font-bold text-purple-600",children:H}),e.jsx("span",{className:"text-xs text-gray-500",children:"day streak"})]})]}),e.jsxs(i,{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-3",children:e.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-full",children:e.jsx(g,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})}),e.jsx("div",{className:"text-2xl mb-1",children:t?.checkIn?c(t.checkIn.mood).icon:"❓"}),e.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:d.mood}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Today's Mood"})]}),e.jsxs(i,{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-3",children:e.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-full",children:e.jsx(N,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})}),e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:[d.totalMeditationTime,"m"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Meditation Today"}),e.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${d.meditationProgress}%`}})}),e.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[Math.round(d.meditationProgress),"% of goal"]})]}),e.jsxs(i,{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-3",children:e.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-full",children:e.jsx(_,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:d.meditationSessions}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Sessions Today"})]})]}),e.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto",children:[e.jsxs(r,{variant:m==="overview"?"primary":"ghost",size:"small",onClick:()=>k("overview"),children:[e.jsx(T,{className:"h-4 w-4 mr-2"}),"Overview"]}),e.jsxs(r,{variant:m==="checkin"?"primary":"ghost",size:"small",onClick:()=>k("checkin"),children:[e.jsx(g,{className:"h-4 w-4 mr-2"}),"Check-in"]}),e.jsxs(r,{variant:m==="meditation"?"primary":"ghost",size:"small",onClick:()=>k("meditation"),children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),"Meditation"]})]}),m==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(i,{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Today's Wellness"}),t?.checkIn?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Mood"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-2xl",children:c(t.checkIn.mood).icon}),e.jsx("span",{className:`font-semibold ${c(t.checkIn.mood).color}`,children:c(t.checkIn.mood).label}),e.jsxs("span",{className:"text-sm text-gray-500",children:["(",t.checkIn.mood,"/10)"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Stress Level"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${t.checkIn.stress<=3?"bg-green-600":t.checkIn.stress<=6?"bg-yellow-600":"bg-red-600"}`,style:{width:`${t.checkIn.stress/10*100}%`}})}),e.jsxs("span",{className:`font-semibold ${G(t.checkIn.stress)}`,children:[t.checkIn.stress,"/10"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Energy Level"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-24 bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${t.checkIn.energy>=7?"bg-green-600":t.checkIn.energy>=4?"bg-yellow-600":"bg-red-600"}`,style:{width:`${t.checkIn.energy/10*100}%`}})}),e.jsxs("span",{className:`font-semibold ${L(t.checkIn.energy)}`,children:[t.checkIn.energy,"/10"]})]})]}),t.checkIn.notes&&e.jsx("div",{className:"mt-4 p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:e.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:['"',t.checkIn.notes,'"']})})]}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(g,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"You haven't checked in today yet"}),e.jsxs(r,{onClick:()=>x(!0),children:[e.jsx(g,{className:"h-4 w-4 mr-2"}),"Check In Now"]})]})]}),e.jsxs(i,{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Quick Meditation"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-6xl font-mono font-bold text-purple-600 mb-4",children:Y(p)}),e.jsxs("div",{className:"flex justify-center gap-2 mb-4",children:[b?e.jsxs(r,{onClick:q,variant:"secondary",children:[e.jsx(se,{className:"h-4 w-4 mr-2"}),"Pause"]}):e.jsxs(r,{onClick:F,variant:"primary",children:[e.jsx(ee,{className:"h-4 w-4 mr-2"}),"Start"]}),e.jsxs(r,{onClick:A,variant:"ghost",children:[e.jsx(te,{className:"h-4 w-4 mr-2"}),"Reset"]})]}),p>0&&e.jsxs(r,{onClick:W,variant:"success",children:[e.jsx(ae,{className:"h-4 w-4 mr-2"}),"Complete Session"]})]})]})]}),m==="checkin"&&e.jsx("div",{className:"max-w-2xl mx-auto",children:t?.checkIn?e.jsx(i,{children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"text-6xl mb-4",children:c(t.checkIn.mood).icon}),e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"You've already checked in today!"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:["Your mood: ",c(t.checkIn.mood).label]}),e.jsx("p",{className:"text-sm text-gray-500",children:"Come back tomorrow for your next check-in"})]})}):e.jsxs(i,{children:[e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("h3",{className:"text-xl font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"How are you feeling today?"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Take a moment to check in with yourself"})]}),e.jsxs(r,{onClick:()=>x(!0),className:"w-full",size:"large",children:[e.jsx(g,{className:"h-5 w-5 mr-2"}),"Start Mental Health Check-in"]})]})}),m==="meditation"&&e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:w.map(s=>e.jsxs(i,{className:"text-center cursor-pointer hover:shadow-lg transition-shadow",children:[e.jsx("div",{className:"text-4xl mb-3",children:s.icon}),e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 mb-2",children:s.name}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:s.description}),e.jsx(r,{variant:"secondary",size:"small",onClick:()=>{B(s.id),o(!0)},children:"Start"})]},s.id))}),e.jsxs(i,{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Today's Sessions"}),t?.meditations.length>0?e.jsx("div",{className:"space-y-3",children:t.meditations.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:w.find(j=>j.id===s.type)?.icon||"🧘"}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100 capitalize",children:s.type}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[s.duration," minutes"]})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-sm text-gray-500",children:new Date(s.date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})})]},s.id))}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(N,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"No meditation sessions today"}),e.jsxs(r,{onClick:()=>o(!0),children:[e.jsx(re,{className:"h-4 w-4 mr-2"}),"Start Your First Session"]})]})]})]}),e.jsx(M,{isOpen:E,onClose:()=>x(!1),title:"Mental Health Check-in",size:"large",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:["How is your mood today? (",n.mood,"/10)"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-2xl",children:"😢"}),e.jsx("input",{type:"range",min:"1",max:"10",value:n.mood,onChange:s=>h(a=>({...a,mood:parseInt(s.target.value)})),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsx("span",{className:"text-2xl",children:"😊"})]}),e.jsxs("div",{className:"text-center mt-2",children:[e.jsx("span",{className:"text-3xl",children:c(n.mood).icon}),e.jsx("p",{className:`text-sm font-medium ${c(n.mood).color}`,children:c(n.mood).label})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:["What's your stress level? (",n.stress,"/10)"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-2xl",children:"😌"}),e.jsx("input",{type:"range",min:"1",max:"10",value:n.stress,onChange:s=>h(a=>({...a,stress:parseInt(s.target.value)})),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsx("span",{className:"text-2xl",children:"😰"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:["How's your energy level? (",n.energy,"/10)"]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("span",{className:"text-2xl",children:"😴"}),e.jsx("input",{type:"range",min:"1",max:"10",value:n.energy,onChange:s=>h(a=>({...a,energy:parseInt(s.target.value)})),className:"flex-1 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"}),e.jsx("span",{className:"text-2xl",children:"⚡"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-3",children:"What emotions are you feeling? (Select all that apply)"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:D.map(s=>e.jsxs("button",{type:"button",onClick:()=>Q(s.id),className:`p-2 rounded-lg border text-sm font-medium transition-all ${n.emotions.includes(s.id)?`${s.color} border-current`:"border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-800"}`,children:[e.jsx("span",{className:"mr-1",children:s.emoji}),s.name]},s.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"What's on your mind? (Optional)"}),e.jsx("textarea",{value:n.notes,onChange:s=>h(a=>({...a,notes:s.target.value})),placeholder:"Share any thoughts, concerns, or what's making you feel this way...",className:"w-full p-3 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100 resize-none",rows:"3"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(r,{variant:"secondary",onClick:()=>x(!1),children:"Cancel"}),e.jsx(r,{onClick:O,children:"Complete Check-in"})]})]})}),e.jsx(M,{isOpen:z,onClose:()=>o(!1),title:"Start Meditation Session",size:"medium",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(V,{label:"Meditation Type",value:u.type,onChange:s=>v(a=>({...a,type:s.target.value})),children:w.map(s=>e.jsxs("option",{value:s.id,children:[s.icon," ",s.name]},s.id))}),e.jsx(I,{label:"Duration (minutes)",type:"number",value:u.duration,onChange:s=>v(a=>({...a,duration:parseInt(s.target.value)||0})),min:"1",max:"120"}),e.jsx(I,{label:"Technique (Optional)",value:u.technique,onChange:s=>v(a=>({...a,technique:s.target.value})),placeholder:"e.g., 4-7-8 breathing, body scan"}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(r,{variant:"secondary",onClick:()=>o(!1),children:"Cancel"}),e.jsx(r,{onClick:()=>{o(!1),f(0),y(!0)},children:"Start Session"})]})]})})]})};export{ue as default};
