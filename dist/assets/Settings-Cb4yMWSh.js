import{j as e,m as o}from"./ui-CeF3mqTb.js";import{r as t}from"./router-x15TIwzH.js";import{C as x}from"./Card-BuWKqhYc.js";import{m as $,u as U,n as G,o as z,s as J,p as L,q as P,r as Y,t as H,v as K,S as q,w as Z,B as h,h as _,b as Q,i as W}from"./index-DbxcNNxi.js";import"./Input-3yWY-vqC.js";import{S as X,M as ee}from"./Select-BqqbDTNT.js";import{c as se}from"./enhancedExcelExport-CnCp3IUf.js";import{d as ae,o as u,G as te,M as re,S as le,D as ne,J as ie,K as oe,N as de,O as m,T as ce,e as xe,a as j,U as me,z as ge}from"./icons-BP9Be9z0.js";import"./vendor-Csw2ODfV.js";import"./utils-BLxLozLB.js";const pe=t.memo(()=>{const{isDark:n,toggleTheme:k}=$(),{currency:w,setCurrency:S,currencies:C}=U(),a=G(),[g,f]=t.useState({currency:"USD",dateFormat:"MM/dd/yyyy",notifications:!0,autoBackup:!1,darkMode:n}),[y,v]=t.useState(!1),[p,b]=t.useState(!1),[D,c]=t.useState(!1),[E,N]=t.useState(!1);t.useEffect(()=>{M()},[]);const M=t.useCallback(async()=>{try{const s=z();f(r=>({...r,...s,darkMode:n}))}catch(s){console.error("Error loading settings:",s),a.error?.("Failed to load settings")}},[n,a]),T=t.useCallback((s,r)=>{f(i=>({...i,[s]:r})),N(!0)},[]),A=t.useCallback(async()=>{v(!0);try{await J(g),N(!1),a.success?.("Settings saved successfully!")}catch(s){console.error("Error saving settings:",s),a.error?.("Failed to save settings")}finally{v(!1)}},[g,a]),B=t.useCallback(async()=>{try{await L(),a.success?.("Expenses exported successfully!")}catch(s){console.error("Export error:",s),a.error?.("Failed to export data")}},[a]),F=t.useCallback(async()=>{try{await P(),a.success?.("Budgets exported successfully!")}catch(s){console.error("Export error:",s),a.error?.("Failed to export budgets")}},[a]),I=t.useCallback(s=>{const r=s.target.files[0];if(!r)return;b(!0);const i=new FileReader;i.onload=d=>{try{const l=JSON.parse(d.target.result);l.expenses&&Y(l.expenses),l.categories&&H(l.categories),l.budgets&&K(l.budgets),a.success?.("Data imported successfully!"),setTimeout(()=>window.location.reload(),1e3)}catch(l){console.error("Import error:",l),a.error?.("Failed to import data")}finally{b(!1),s.target.value=""}},i.readAsText(r)},[a]),O=t.useCallback(async()=>{try{Object.values(q).forEach(s=>{localStorage.removeItem(s)}),a.success?.("All data deleted successfully!"),c(!1),setTimeout(()=>window.location.reload(),1e3)}catch(s){console.error("Delete error:",s),a.error?.("Failed to delete data")}},[a]),R=t.useCallback(async()=>{try{await Z(),a.success?.("Sample data generated!"),setTimeout(()=>window.location.reload(),1e3)}catch(s){console.error("Sample data error:",s),a.error?.("Failed to generate sample data")}},[a]),V=t.useCallback(async()=>{try{a.success?.("ðŸš€ Generating comprehensive Excel report with charts..."),await se(),a.success?.("ðŸ“Š Beautiful Excel report with interactive charts downloaded successfully!")}catch(s){console.error("Enhanced export error:",s),a.error?.("Failed to generate comprehensive report")}},[a]);return e.jsxs("div",{className:"spacing-lg",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-500/5 to-red-500/5 rounded-2xl sm:rounded-3xl blur-xl"}),e.jsx(x,{variant:"glass",className:"relative",children:e.jsxs("div",{className:"flex flex-col space-y-4 sm:space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h1",{className:"text-gradient flex items-center gap-2 sm:gap-3",children:[e.jsx(ae,{className:"h-6 w-6 sm:h-8 sm:w-8 text-orange-500"}),"Settings & Preferences"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm sm:text-base lg:text-lg",children:"Customize your ClarityOS experience"})]}),E&&e.jsx(o.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"flex rounded-xl border border-orange-200/50 dark:border-orange-700/50 bg-orange-50/50 dark:bg-orange-900/20 backdrop-blur-md p-4",children:e.jsxs("div",{className:"flex items-center justify-between w-full",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(u,{className:"h-5 w-5 text-orange-500"}),e.jsx("span",{className:"text-sm font-medium text-orange-700 dark:text-orange-300",children:"You have unsaved changes"})]}),e.jsx(h,{onClick:A,loading:y,className:"bg-gradient-to-r from-orange-500 to-red-500 hover:from-orange-600 hover:to-red-600",children:y?"Saving...":"Save Now"})]})})]})})]}),e.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-500/5 to-indigo-500/5 rounded-2xl blur-xl"}),e.jsx(x,{variant:"glass",className:"relative",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-r from-purple-500 to-indigo-500 flex items-center justify-center",children:e.jsx(te,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Appearance & Theme"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Customize how ClarityOS looks and feels"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-6",children:[e.jsx("div",{className:"glass-panel p-4 rounded-xl",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[n?e.jsx(re,{className:"h-5 w-5 text-indigo-500"}):e.jsx(le,{className:"h-5 w-5 text-yellow-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Dark Mode"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:n?"Dark theme active":"Light theme active"})]})]}),e.jsx("button",{onClick:k,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors duration-300 ${n?"bg-gradient-to-r from-purple-500 to-indigo-500":"bg-gray-200"}`,children:e.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform duration-300 ${n?"translate-x-6":"translate-x-1"}`})})]})}),e.jsx("div",{className:"glass-panel p-4 rounded-xl",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ne,{className:"h-5 w-5 text-green-500"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Currency"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Your preferred currency"})]})]}),e.jsx(X,{value:w,onChange:s=>{S(s),T("currency",s)},options:C?.map(s=>({value:s.code,label:`${s.symbol} ${s.code} - ${s.name}`}))||[],className:"w-full"})]})})]})]})})]})}),e.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500/5 to-green-500/5 rounded-2xl blur-xl"}),e.jsx(x,{variant:"glass",className:"relative",children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-r from-emerald-500 to-green-500 flex items-center justify-center",children:e.jsx(ie,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Data Management"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Export, import, and manage your financial data"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(oe,{className:"h-4 w-4"}),"Advanced Excel Exports"]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsx("button",{onClick:B,className:"glass-panel p-4 rounded-xl hover:bg-emerald-50/50 dark:hover:bg-emerald-900/20 transition-all duration-300 group",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-r from-emerald-500 to-green-500 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(de,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Expenses CSV"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"All expense data"})]}),e.jsx(m,{className:"h-4 w-4 text-gray-400 group-hover:text-emerald-500 transition-colors duration-300"})]})}),e.jsx("button",{onClick:F,className:"glass-panel p-4 rounded-xl hover:bg-emerald-50/50 dark:hover:bg-emerald-900/20 transition-all duration-300 group",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-r from-blue-500 to-cyan-500 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(ce,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Budgets CSV"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Budget tracking data"})]}),e.jsx(m,{className:"h-4 w-4 text-gray-400 group-hover:text-blue-500 transition-colors duration-300"})]})}),e.jsx("button",{onClick:()=>{const s={expenses:W(),categories:Q(),budgets:_(),settings:g,exportDate:new Date().toISOString(),version:"2.0"},r=JSON.stringify(s,null,2),i=new Blob([r],{type:"application/json"}),d=document.createElement("a");d.href=URL.createObjectURL(i),d.download=`money-manager-full-backup-${new Date().toISOString().split("T")[0]}.json`,d.click(),a.success?.("Complete backup exported!")},className:"glass-panel p-4 rounded-xl hover:bg-orange-50/50 dark:hover:bg-orange-900/20 transition-all duration-300 group",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-r from-orange-500 to-red-500 flex items-center justify-center group-hover:scale-110 transition-transform duration-300",children:e.jsx(xe,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Full Backup"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Complete data export"})]}),e.jsx(m,{className:"h-4 w-4 text-gray-400 group-hover:text-orange-500 transition-colors duration-300"})]})})]})]}),e.jsxs("div",{className:"space-y-4 pt-6 border-t border-gray-200/50 dark:border-gray-700/50",children:[e.jsxs("h4",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(j,{className:"h-4 w-4"}),"ðŸš€ Interactive Excel Reports with Charts"]}),e.jsx("button",{onClick:V,className:"w-full glass-panel p-6 rounded-xl hover:bg-gradient-to-r hover:from-purple-50/50 hover:to-indigo-50/50 dark:hover:from-purple-900/20 dark:hover:to-indigo-900/20 transition-all duration-300 group border-2 border-purple-200/50 dark:border-purple-800/50",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-r from-purple-500 to-indigo-500 flex items-center justify-center group-hover:scale-110 transition-transform duration-300 shadow-lg",children:e.jsx(o.div,{animate:{rotate:[0,360]},transition:{duration:2,repeat:1/0,ease:"linear"},children:e.jsx(j,{className:"h-6 w-6 text-white"})})}),e.jsxs("div",{className:"text-left flex-1",children:[e.jsx("h4",{className:"text-lg font-bold text-gray-900 dark:text-gray-100 mb-1",children:"ðŸ“Š Download All Combined Data"}),e.jsx("p",{className:"text-sm text-purple-600 dark:text-purple-400 font-medium mb-2",children:"Interactive Excel with Charts & Visual Analytics"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsx("span",{className:"text-xs px-2 py-1 bg-purple-100 text-purple-700 dark:bg-purple-900/30 dark:text-purple-300 rounded-full",children:"ðŸ“ˆ Budget Analysis"}),e.jsx("span",{className:"text-xs px-2 py-1 bg-indigo-100 text-indigo-700 dark:bg-indigo-900/30 dark:text-indigo-300 rounded-full",children:"ðŸ“Š Category Trends"}),e.jsx("span",{className:"text-xs px-2 py-1 bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 rounded-full",children:"ðŸŽ¯ Financial Health"}),e.jsx("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300 rounded-full",children:"ðŸ”® Predictive Analytics"})]})]}),e.jsx(m,{className:"h-6 w-6 text-gray-400 group-hover:text-purple-500 transition-colors duration-300"})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4 pt-4 border-t border-gray-200/50 dark:border-gray-700/50",children:[e.jsx("button",{onClick:()=>document.getElementById("import-file").click(),disabled:p,className:"glass-panel p-4 rounded-xl hover:bg-blue-50/50 dark:hover:bg-blue-900/20 transition-all duration-300 group disabled:opacity-50",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-r from-blue-500 to-indigo-500 flex items-center justify-center",children:p?e.jsx(o.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full"}):e.jsx(me,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:p?"Importing...":"Import Data"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Restore from backup"})]})]})}),e.jsx("button",{onClick:R,className:"glass-panel p-4 rounded-xl hover:bg-purple-50/50 dark:hover:bg-purple-900/20 transition-all duration-300 group",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 flex items-center justify-center",children:e.jsx(j,{className:"h-4 w-4 text-white"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:"Sample Data"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Generate demo data"})]})]})})]}),e.jsx("input",{id:"import-file",type:"file",accept:".json",onChange:I,className:"hidden"})]})})]})}),e.jsx(o.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-red-500/5 to-pink-500/5 rounded-2xl blur-xl"}),e.jsx(x,{variant:"glass",className:"relative border-red-200/30 dark:border-red-800/30",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-r from-red-500 to-pink-500 flex items-center justify-center",children:e.jsx(u,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-red-600 dark:text-red-400",children:"Danger Zone"}),e.jsx("p",{className:"text-sm text-red-600/80 dark:text-red-400/80",children:"Irreversible actions - proceed with caution"})]})]}),e.jsx("button",{onClick:()=>c(!0),className:"w-full p-4 rounded-xl border-2 border-red-200/50 dark:border-red-800/50 bg-red-50/50 dark:bg-red-900/20 hover:bg-red-100/50 dark:hover:bg-red-900/40 transition-all duration-300 group",children:e.jsxs("div",{className:"flex items-center justify-center space-x-3",children:[e.jsx(ge,{className:"h-5 w-5 text-red-500 group-hover:scale-110 transition-transform duration-300"}),e.jsx("span",{className:"font-medium text-red-600 dark:text-red-400",children:"Delete All Data"})]})})]})})]})}),e.jsx(ee,{isOpen:D,onClose:()=>c(!1),title:"Delete All Data",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-red-50 dark:bg-red-900/20 rounded-lg border border-red-200 dark:border-red-800",children:[e.jsx(u,{className:"h-8 w-8 text-red-500 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-red-900 dark:text-red-100",children:"This action cannot be undone!"}),e.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:"All your expenses, budgets, and settings will be permanently deleted."})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(h,{variant:"secondary",onClick:()=>c(!1),className:"flex-1",children:"Cancel"}),e.jsx(h,{variant:"danger",onClick:O,className:"flex-1",children:"Delete Everything"})]})]})})]})});pe.displayName="Settings";export{pe as default};
