import{j as e,m as u}from"./ui-CeF3mqTb.js";import{r as o}from"./router-x15TIwzH.js";import{C as h}from"./Card-BuWKqhYc.js";import{B as c}from"./index-DCndX48W.js";import{I as y}from"./Input-3yWY-vqC.js";import{G as D,Q as de,V as me,i as I,w as H,d as xe,x as T,as as F,D as J,av as $,aC as he,at as ge,ax as P,H as U,au as ue,g as pe}from"./icons-Dv2osvF6.js";import{R as O,T as R,C as K}from"./generateCategoricalChart-DLticPBC.js";import{L as ye,a as je}from"./LineChart-0pgzfNF8.js";import{C as be,X as ve,Y as fe}from"./YAxis-DqBHu9IX.js";import{P as z,a as V}from"./PieChart-TBdxlQXX.js";import"./vendor-Csw2ODfV.js";const Be=()=>{const[l,j]=o.useState([]),[n,b]=o.useState([]),[G,k]=o.useState(!1),[M,C]=o.useState(!1),[S,A]=o.useState([]),[r,v]=o.useState({name:"",type:"cash",value:0,description:""}),[i,f]=o.useState({name:"",type:"home_loan",amount:0,description:""}),[Ne,X]=o.useState(null),[we,Y]=o.useState(null);o.useEffect(()=>{Q()},[]),o.useEffect(()=>{q(),Z()},[l,n]);const Q=()=>{const t=JSON.parse(localStorage.getItem("freedomos_assets")||"[]"),s=JSON.parse(localStorage.getItem("freedomos_liabilities")||"[]"),x=JSON.parse(localStorage.getItem("freedomos_networth_history")||"[]");t.length===0?j([{id:1,name:"Savings Account",type:"savings",value:25e4,description:"Emergency fund"},{id:2,name:"Mutual Funds",type:"investment",value:5e5,description:"SIP investments"},{id:3,name:"Apartment",type:"real_estate",value:35e5,description:"2BHK apartment"}]):j(t),s.length===0?b([{id:1,name:"Home Loan",type:"home_loan",amount:22e5,description:"HDFC Home Loan"},{id:2,name:"Car Loan",type:"car_loan",amount:35e4,description:"Vehicle financing"}]):b(s),A(x)},q=()=>{localStorage.setItem("freedomos_assets",JSON.stringify(l)),localStorage.setItem("freedomos_liabilities",JSON.stringify(n))},Z=()=>{const t=l.reduce((a,p)=>a+p.value,0),s=n.reduce((a,p)=>a+p.amount,0),x=t-s,m=new Date().toISOString().slice(0,7);A(a=>{const p=a.findIndex(g=>g.month===m),E={month:m,assets:t,liabilities:s,netWorth:x,date:new Date().toLocaleDateString()};if(p>=0){const g=[...a];return g[p]=E,localStorage.setItem("freedomos_networth_history",JSON.stringify(g)),g}else{const g=[...a,E].slice(-12);return localStorage.setItem("freedomos_networth_history",JSON.stringify(g)),g}})},ee=()=>{if(!r.name||!r.value)return;const t={id:Date.now(),...r,value:Number(r.value),createdAt:new Date().toISOString()};j([...l,t]),v({name:"",type:"cash",value:0,description:""}),k(!1)},te=()=>{if(!i.name||!i.amount)return;const t={id:Date.now(),...i,amount:Number(i.amount),createdAt:new Date().toISOString()};b([...n,t]),f({name:"",type:"home_loan",amount:0,description:""}),C(!1)},se=t=>{j(l.filter(s=>s.id!==t))},ae=t=>{b(n.filter(s=>s.id!==t))},re=()=>{const t={assets:l,liabilities:n,netWorthHistory:S,exportDate:new Date().toISOString()},s=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),x=URL.createObjectURL(s),m=document.createElement("a");m.href=x,m.download=`networth_backup_${new Date().toISOString().slice(0,10)}.json`,m.click(),URL.revokeObjectURL(x)},ie=t=>{const s=t.target.files[0];if(!s)return;const x=new FileReader;x.onload=m=>{try{const a=JSON.parse(m.target.result);a.assets&&j(a.assets),a.liabilities&&b(a.liabilities),a.netWorthHistory&&A(a.netWorthHistory)}catch(a){console.error("Error importing data:",a)}},x.readAsText(s)},d=t=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(t),le=t=>{switch(t){case"real_estate":return U;case"vehicle":return P;case"investment":return I;case"savings":return ge;case"cash":return D;default:return he}},ne=t=>{switch(t){case"home_loan":return U;case"car_loan":return P;case"credit_card":return pe;default:return ue}},oe=t=>{switch(t){case"real_estate":return"text-blue-600 bg-blue-50 border-blue-200";case"vehicle":return"text-green-600 bg-green-50 border-green-200";case"investment":return"text-purple-600 bg-purple-50 border-purple-200";case"savings":return"text-orange-600 bg-orange-50 border-orange-200";case"cash":return"text-yellow-600 bg-yellow-50 border-yellow-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},ce=t=>{switch(t){case"home_loan":return"text-red-600 bg-red-50 border-red-200";case"car_loan":return"text-orange-600 bg-orange-50 border-orange-200";case"credit_card":return"text-purple-600 bg-purple-50 border-purple-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},L=l.reduce((t,s)=>t+s.value,0),_=n.reduce((t,s)=>t+s.amount,0),N=L-_,W=l.map(t=>({name:t.name,value:t.value,type:t.type})),B=n.map(t=>({name:t.name,value:t.amount,type:t.type})),w=["#3B82F6","#10B981","#8B5CF6","#F59E0B","#EF4444","#6B7280"];return e.jsxs("div",{className:"space-y-6 p-4 bg-gradient-to-br from-slate-50 to-blue-50 dark:from-gray-900 dark:to-blue-900/20 min-h-screen",children:[e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/10 to-yellow-500/10 rounded-2xl blur-xl"}),e.jsx(h,{className:"relative bg-gradient-to-r from-blue-900 to-blue-800 text-white border-yellow-500/20",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h1",{className:"text-lg sm:text-2xl lg:text-3xl font-bold flex items-center gap-3",children:[e.jsx(D,{className:"h-6 w-6 sm:h-8 sm:w-8 text-yellow-400"}),e.jsx("span",{className:"whitespace-nowrap",children:"Net Worth Tracker"})]}),e.jsx("p",{className:"text-blue-100 text-sm sm:text-base",children:"Track assets vs liabilities with real-time trends"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsxs(c,{variant:"secondary",onClick:re,className:"flex items-center gap-2",children:[e.jsx(de,{className:"h-4 w-4"}),"Export"]}),e.jsxs("label",{className:"flex items-center gap-2 px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg cursor-pointer transition-colors",children:[e.jsx(me,{className:"h-4 w-4"}),"Import",e.jsx("input",{type:"file",accept:".json",onChange:ie,className:"hidden"})]})]})]})})]}),e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsx(h,{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20",children:e.jsxs("div",{className:"text-center",children:[e.jsx(I,{className:"h-8 w-8 text-green-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-green-600",children:d(L)}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Assets"})]})}),e.jsx(h,{className:"bg-gradient-to-br from-red-50 to-pink-50 dark:from-red-900/20 dark:to-pink-900/20",children:e.jsxs("div",{className:"text-center",children:[e.jsx(H,{className:"h-8 w-8 text-red-600 mx-auto mb-2"}),e.jsx("div",{className:"text-2xl font-bold text-red-600",children:d(_)}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Liabilities"})]})}),e.jsx(h,{className:`bg-gradient-to-br ${N>=0?"from-blue-50 to-indigo-50 dark:from-blue-900/20 dark:to-indigo-900/20":"from-orange-50 to-red-50 dark:from-orange-900/20 dark:to-red-900/20"}`,children:e.jsxs("div",{className:"text-center",children:[e.jsx(D,{className:`h-8 w-8 mx-auto mb-2 ${N>=0?"text-blue-600":"text-orange-600"}`}),e.jsx("div",{className:`text-2xl font-bold ${N>=0?"text-blue-600":"text-orange-600"}`,children:d(N)}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Net Worth"})]})})]})}),S.length>1&&e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsx(h,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(xe,{className:"h-5 w-5 text-blue-600"}),"Net Worth Trend"]}),e.jsx("div",{className:"h-64",children:e.jsx(O,{width:"100%",height:"100%",children:e.jsxs(ye,{data:S,children:[e.jsx(be,{strokeDasharray:"3 3"}),e.jsx(ve,{dataKey:"month"}),e.jsx(fe,{tickFormatter:t=>`â‚¹${(t/1e5).toFixed(1)}L`}),e.jsx(R,{formatter:t=>[d(t),""]}),e.jsx(je,{type:"monotone",dataKey:"netWorth",stroke:"#3B82F6",strokeWidth:3,dot:{fill:"#3B82F6",strokeWidth:2,r:4}})]})})})]})})}),e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsx(h,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(I,{className:"h-5 w-5 text-green-600"}),"Assets (",d(L),")"]}),e.jsxs(c,{variant:"primary",onClick:()=>k(!0),className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4"}),"Add Asset"]})]}),G&&e.jsxs(u.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Asset Name"}),e.jsx(y,{value:r.name,onChange:t=>v({...r,name:t.target.value}),placeholder:"e.g., Savings Account"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type"}),e.jsxs("select",{value:r.type,onChange:t=>v({...r,type:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[e.jsx("option",{value:"cash",children:"Cash"}),e.jsx("option",{value:"savings",children:"Savings"}),e.jsx("option",{value:"investment",children:"Investment"}),e.jsx("option",{value:"real_estate",children:"Real Estate"}),e.jsx("option",{value:"vehicle",children:"Vehicle"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Value"}),e.jsx(y,{type:"number",value:r.value,onChange:t=>v({...r,value:t.target.value}),placeholder:"Asset value"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx(y,{value:r.description,onChange:t=>v({...r,description:t.target.value}),placeholder:"Optional description"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(c,{variant:"primary",onClick:ee,children:"Add Asset"}),e.jsx(c,{variant:"secondary",onClick:()=>k(!1),children:"Cancel"})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:l.map(t=>{const s=le(t.type);return e.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(s,{className:"h-6 w-6 text-green-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-gray-100",children:t.name}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.description}),e.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs ${oe(t.type)}`,children:t.type.replace("_"," ").toUpperCase()})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-lg font-bold text-green-600",children:d(t.value)})}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(c,{variant:"ghost",size:"small",onClick:()=>X(t.id),className:"p-2",children:e.jsx(F,{className:"h-4 w-4"})}),e.jsx(c,{variant:"ghost",size:"small",onClick:()=>se(t.id),className:"p-2 text-red-600 hover:bg-red-50",children:e.jsx(J,{className:"h-4 w-4"})})]})]})]})},t.id)})})]})})}),e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:e.jsx(h,{children:e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(H,{className:"h-5 w-5 text-red-600"}),"Liabilities (",d(_),")"]}),e.jsxs(c,{variant:"primary",onClick:()=>C(!0),className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-4 w-4"}),"Add Liability"]})]}),M&&e.jsxs(u.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"p-4 bg-gray-50 dark:bg-gray-800 rounded-lg space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Liability Name"}),e.jsx(y,{value:i.name,onChange:t=>f({...i,name:t.target.value}),placeholder:"e.g., Home Loan"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type"}),e.jsxs("select",{value:i.type,onChange:t=>f({...i,type:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[e.jsx("option",{value:"home_loan",children:"Home Loan"}),e.jsx("option",{value:"car_loan",children:"Car Loan"}),e.jsx("option",{value:"personal_loan",children:"Personal Loan"}),e.jsx("option",{value:"credit_card",children:"Credit Card"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Amount"}),e.jsx(y,{type:"number",value:i.amount,onChange:t=>f({...i,amount:t.target.value}),placeholder:"Outstanding amount"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Description"}),e.jsx(y,{value:i.description,onChange:t=>f({...i,description:t.target.value}),placeholder:"Optional description"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(c,{variant:"primary",onClick:te,children:"Add Liability"}),e.jsx(c,{variant:"secondary",onClick:()=>C(!1),children:"Cancel"})]})]}),e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:n.map(t=>{const s=ne(t.type);return e.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(s,{className:"h-6 w-6 text-red-600"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-gray-100",children:t.name}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.description}),e.jsx("span",{className:`inline-block px-2 py-1 rounded-full text-xs ${ce(t.type)}`,children:t.type.replace("_"," ").toUpperCase()})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-lg font-bold text-red-600",children:d(t.amount)})}),e.jsxs("div",{className:"flex space-x-1",children:[e.jsx(c,{variant:"ghost",size:"small",onClick:()=>Y(t.id),className:"p-2",children:e.jsx(F,{className:"h-4 w-4"})}),e.jsx(c,{variant:"ghost",size:"small",onClick:()=>ae(t.id),className:"p-2 text-red-600 hover:bg-red-50",children:e.jsx(J,{className:"h-4 w-4"})})]})]})]})},t.id)})})]})})}),(l.length>0||n.length>0)&&e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.length>0&&e.jsx(h,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5 text-green-600"}),"Asset Distribution"]}),e.jsx("div",{className:"h-64",children:e.jsx(O,{width:"100%",height:"100%",children:e.jsxs(z,{children:[e.jsx(V,{data:W,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:W.map((t,s)=>e.jsx(K,{fill:w[s%w.length]},`cell-${s}`))}),e.jsx(R,{formatter:t=>d(t)})]})})})]})}),n.length>0&&e.jsx(h,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[e.jsx($,{className:"h-5 w-5 text-red-600"}),"Liability Distribution"]}),e.jsx("div",{className:"h-64",children:e.jsx(O,{width:"100%",height:"100%",children:e.jsxs(z,{children:[e.jsx(V,{data:B,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:B.map((t,s)=>e.jsx(K,{fill:w[s%w.length]},`cell-${s}`))}),e.jsx(R,{formatter:t=>d(t)})]})})})]})})]})})]})};export{Be as default};
