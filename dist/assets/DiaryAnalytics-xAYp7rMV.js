import{j as e,m as s}from"./ui-CeF3mqTb.js";import{r as l}from"./router-x15TIwzH.js";import{C as a}from"./Card-BuWKqhYc.js";import{c as g,b as z,B as H,C as U,D as X,F as J,G as Z,H as Q,d as j}from"./diaryStorage-D7FW-Xfd.js";import{d as V,a5 as _,B as p,Z as A,T as u,A as ee,l as te,o as se,h as P,i as ae}from"./icons-Dv2osvF6.js";import{R as x,T as o,B as m,C as re}from"./generateCategoricalChart-DLticPBC.js";import{B as N}from"./BarChart-CT5E37Do.js";import{C as v,X as b,Y as f}from"./YAxis-DqBHu9IX.js";import{P as ie,a as le}from"./PieChart-TBdxlQXX.js";import"./vendor-Csw2ODfV.js";import"./utils-D8kRLn_f.js";const ue=()=>{const[r,G]=l.useState({daily:{current:0,longest:0},weekly:{current:0,longest:0},monthly:{current:0,longest:0}}),[y,T]=l.useState([]),[k,K]=l.useState([]),[h,B]=l.useState({total:0,thisMonth:0,avgPerWeek:0}),[w,I]=l.useState([]),[D,F]=l.useState(null),[n,L]=l.useState(null),[d,Y]=l.useState(null),[M,R]=l.useState([]);l.useEffect(()=>{$()},[]);const $=()=>{G({daily:g("daily"),weekly:g("weekly"),monthly:g("monthly")});const t=z();T(t.slice(0,5));const i=H();K(i.slice(0,10)),I(U().slice(0,8)),F(X()),L(J()),Y(Z()),R(Q());const c=[...j("daily"),...j("weekly"),...j("monthly")],C=new Date,O=c.filter(E=>{const W=new Date(E.createdAt||E.date);return W.getMonth()===C.getMonth()&&W.getFullYear()===C.getFullYear()});B({total:c.length,thisMonth:O.length,avgPerWeek:Math.round(c.length/Math.max(1,Math.ceil(c.length/7)))})},S=["#10b981","#059669","#047857","#065f46","#064e3b"],q=[{name:"Daily",current:r.daily.current,longest:r.daily.longest},{name:"Weekly",current:r.weekly.current,longest:r.weekly.longest},{name:"Monthly",current:r.monthly.current,longest:r.monthly.longest}];return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-500/5 to-green-500/5 rounded-2xl sm:rounded-3xl blur-xl"}),e.jsx(a,{variant:"glass",className:"relative",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h1",{className:"text-gradient flex items-center gap-2 sm:gap-3 bg-gradient-to-r from-emerald-600 to-green-600 dark:from-emerald-400 dark:to-green-400 bg-clip-text text-transparent",children:[e.jsx(V,{className:"h-6 w-6 sm:h-8 sm:w-8 text-emerald-500 animate-pulse"}),"Diary Analytics"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm sm:text-base",children:"Deep insights into your journaling journey and personal growth"})]})})]}),M.length>0&&e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsx(a,{className:"border-emerald-200 dark:border-emerald-800 bg-emerald-50/50 dark:bg-emerald-900/10",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_,{className:"h-5 w-5 text-emerald-500 animate-pulse"}),e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Personal Growth Insights"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:M.map((t,i)=>e.jsx("div",{className:"p-4 bg-white dark:bg-gray-800 rounded-lg border border-emerald-200 dark:border-emerald-700",children:e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("span",{className:"text-2xl",children:t.icon}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100 mb-1",children:t.title}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:t.message})]})]})},i))})]})})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsx(a,{variant:"stat",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Entries"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100",children:h.total})]}),e.jsx(p,{className:"h-8 w-8 text-emerald-500"})]})})}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsx(a,{variant:"stat",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400",children:"Current Streak"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100",children:Math.max(r.daily.current,r.weekly.current,r.monthly.current)})]}),e.jsx(A,{className:"h-8 w-8 text-orange-500"})]})})}),n&&e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:e.jsx(a,{variant:"stat",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400",children:"Total Words"}),e.jsx("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100",children:n.totalWords.toLocaleString()})]}),e.jsx(u,{className:"h-8 w-8 text-blue-500"})]})})}),d&&e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:e.jsx(a,{variant:"stat",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600 dark:text-gray-400",children:"Monthly Goal"}),e.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900 dark:text-gray-100",children:[Math.round((d.daily.percentage+d.weekly.percentage+d.monthly.percentage)/3),"%"]})]}),e.jsx(ee,{className:"h-8 w-8 text-green-500"})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[w.length>0&&e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:e.jsx(a,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(te,{className:"h-5 w-5 text-emerald-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"What Makes You Happy?"})]}),e.jsx("div",{className:"space-y-3",children:w.slice(0,6).map((t,i)=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-800",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:t.activity}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${t.impact==="positive"?"bg-green-500":t.impact==="negative"?"bg-red-500":"bg-gray-400"}`}),e.jsxs("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:[t.frequency," times"]})]})]}),e.jsx("div",{className:"text-right",children:e.jsxs("div",{className:`text-sm font-medium ${t.impact==="positive"?"text-green-600":t.impact==="negative"?"text-red-600":"text-gray-600"}`,children:[t.averageMood.toFixed(1),"/5"]})})]},i))})]})})}),D&&e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:e.jsx(a,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(se,{className:"h-5 w-5 text-blue-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Your Best Days"})]}),e.jsx("div",{style:{width:"100%",height:200},children:e.jsx(x,{children:e.jsxs(N,{data:D.weeklyAverage,children:[e.jsx(v,{strokeDasharray:"3 3"}),e.jsx(b,{dataKey:"day",tick:{fontSize:12}}),e.jsx(f,{domain:[0,5]}),e.jsx(o,{}),e.jsx(m,{dataKey:"averageMood",fill:"#10b981",radius:[4,4,0,0]})]})})})]})})}),n&&e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:e.jsx(a,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{className:"h-5 w-5 text-purple-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Writing Statistics"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center p-3 bg-purple-50 dark:bg-purple-900/30 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600 dark:text-purple-400",children:n.averageWordsPerEntry}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Words/Entry"})]}),e.jsxs("div",{className:"text-center p-3 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600 dark:text-blue-400",children:n.uniqueWritingDays}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Writing Days"})]}),n.longestEntry.words>0&&e.jsxs("div",{className:"col-span-2 p-3 bg-green-50 dark:bg-green-900/30 rounded-lg",children:[e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:["Longest Entry: ",n.longestEntry.words," words"]}),e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-500",children:new Date(n.longestEntry.date).toLocaleDateString()})]})]})]})})}),d&&e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},children:e.jsx(a,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{className:"h-5 w-5 text-emerald-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Monthly Goals"})]}),e.jsx("div",{className:"space-y-3",children:[{label:"Daily Entries",data:d.daily,color:"emerald"},{label:"Weekly Entries",data:d.weekly,color:"blue"},{label:"Monthly Entries",data:d.monthly,color:"purple"}].map((t,i)=>e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:t.label}),e.jsxs("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:[t.data.current,"/",t.data.goal," (",t.data.percentage,"%)"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full bg-${t.color}-500`,style:{width:`${Math.min(t.data.percentage,100)}%`}})})]},i))})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1},children:e.jsx(a,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(A,{className:"h-5 w-5 text-orange-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Journaling Streaks"})]}),e.jsx("div",{style:{width:"100%",height:250},children:e.jsx(x,{children:e.jsxs(N,{data:q,children:[e.jsx(v,{strokeDasharray:"3 3"}),e.jsx(b,{dataKey:"name"}),e.jsx(f,{}),e.jsx(o,{}),e.jsx(m,{dataKey:"current",fill:"#10b981",name:"Current Streak"}),e.jsx(m,{dataKey:"longest",fill:"#059669",name:"Longest Streak"})]})})})]})})}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:1.1},children:e.jsx(a,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(P,{className:"h-5 w-5 text-pink-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Emotion Distribution"})]}),y.length>0?e.jsx("div",{style:{width:"100%",height:250},children:e.jsx(x,{children:e.jsxs(ie,{children:[e.jsx(le,{data:y,cx:"50%",cy:"50%",labelLine:!1,label:({emotion:t})=>t,outerRadius:80,fill:"#8884d8",dataKey:"count",children:y.map((t,i)=>e.jsx(re,{fill:S[i%S.length]},`cell-${i}`))}),e.jsx(o,{formatter:(t,i,c)=>[t,c.payload.emotion]})]})})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(P,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Start journaling to see emotion insights"})]})]})})})]}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},children:e.jsx(a,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(u,{className:"h-5 w-5 text-indigo-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Most Used Words"})]}),k.length>0?e.jsx("div",{style:{width:"100%",height:300},children:e.jsx(x,{children:e.jsxs(N,{data:k,layout:"horizontal",children:[e.jsx(v,{strokeDasharray:"3 3"}),e.jsx(b,{type:"number"}),e.jsx(f,{dataKey:"word",type:"category",width:80}),e.jsx(o,{}),e.jsx(m,{dataKey:"count",fill:"#6366f1"})]})})}):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(p,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Write more entries to see word frequency analysis"})]})]})})}),e.jsx(s.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.9},children:e.jsx(a,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(ae,{className:"h-5 w-5 text-green-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Insights & Recommendations"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-900 dark:text-blue-100 mb-2",children:"🎯 Current Focus"}),e.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:["Your daily journaling streak is ",r.daily.current," days.",r.daily.current===0?" Start your journey today!":r.daily.current<7?" Keep building this habit!":" Amazing consistency!"]})]}),e.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/30 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-green-900 dark:text-green-100 mb-2",children:"📈 Growth Opportunity"}),e.jsx("p",{className:"text-sm text-green-800 dark:text-green-200",children:h.thisMonth<5?"Try to write more entries this month to gain deeper insights.":h.thisMonth<15?"Great progress! Consider adding weekly reflections.":"Exceptional dedication to self-reflection!"})]})]})]})})})]})};export{ue as default};
