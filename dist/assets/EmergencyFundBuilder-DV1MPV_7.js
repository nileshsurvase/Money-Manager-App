import{j as e,m}from"./ui-CeF3mqTb.js";import{r as g}from"./router-x15TIwzH.js";import{C as b}from"./Card-BuWKqhYc.js";import{B as x}from"./index-DbxcNNxi.js";import{I as d}from"./Input-3yWY-vqC.js";import{e as O,aq as Y,a4 as $,C as U,T as G,o as H,s as K,P as k,w as A,ar as W,z as Q,D as V,as as X,c as Z,at as ee}from"./icons-BP9Be9z0.js";import{R as te,C as ae,T as se}from"./generateCategoricalChart-DLticPBC.js";import{P as re,a as le}from"./PieChart-TBdxlQXX.js";import"./vendor-Csw2ODfV.js";import"./utils-BLxLozLB.js";const ye=()=>{const[a,h]=g.useState({age:28,monthlyIncome:75e3,monthlyExpenses:45e3,dependents:1,jobSecurity:"stable",healthInsurance:!0}),[r,y]=g.useState({current:0,target:0,sources:[]}),[F,j]=g.useState(!1),[s,u]=g.useState({name:"",type:"savings",amount:0,maturityDate:"",interestRate:0,liquidity:"immediate"}),[R,v]=g.useState(null),[w,B]=g.useState(!1);g.useEffect(()=>{q(),M()},[a]);const q=()=>{const t=JSON.parse(localStorage.getItem("freedomos_emergency_fund")||"{}");t.sources&&y(t)},f=t=>{localStorage.setItem("freedomos_emergency_fund",JSON.stringify(t))},M=()=>{let t=6;a.age<25?t+=1:a.age>50&&(t-=.5),t+=a.dependents*.5,a.jobSecurity==="unstable"?t+=2:a.jobSecurity==="freelancer"&&(t+=3),a.healthInsurance||(t+=1),t=Math.max(3,Math.min(12,t));const l=Math.round(a.monthlyExpenses*t);y(n=>{const i={...n,target:l};return f(i),i})},_=()=>{const t={id:Date.now(),...s,amount:Number(s.amount),interestRate:Number(s.interestRate),createdAt:new Date().toISOString()},l=[...r.sources,t],n=l.reduce((o,c)=>o+c.amount,0),i={...r,sources:l,current:n};y(i),f(i),u({name:"",type:"savings",amount:0,maturityDate:"",interestRate:0,liquidity:"immediate"}),j(!1)},I=(t,l)=>{const n=r.sources.map(c=>c.id===t?{...c,...l}:c),i=n.reduce((c,L)=>c+L.amount,0),o={...r,sources:n,current:i};y(o),f(o),v(null)},T=t=>{const l=r.sources.filter(o=>o.id!==t),n=l.reduce((o,c)=>o+c.amount,0),i={...r,sources:l,current:n};y(i),f(i)},p=t=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(t),P=t=>{switch(t){case"savings":return e.jsx(k,{className:"h-5 w-5"});case"fd":return e.jsx(ee,{className:"h-5 w-5"});case"mutual_fund":return e.jsx(Z,{className:"h-5 w-5"});case"liquid_fund":return e.jsx(X,{className:"h-5 w-5"});default:return e.jsx(V,{className:"h-5 w-5"})}},z=t=>{switch(t){case"savings":return"text-green-600 bg-green-50 border-green-200";case"fd":return"text-blue-600 bg-blue-50 border-blue-200";case"mutual_fund":return"text-purple-600 bg-purple-50 border-purple-200";case"liquid_fund":return"text-orange-600 bg-orange-50 border-orange-200";default:return"text-gray-600 bg-gray-50 border-gray-200"}},J=t=>{switch(t){case"immediate":return"text-green-600 bg-green-100";case"1-3days":return"text-yellow-600 bg-yellow-100";case"1week":return"text-orange-600 bg-orange-100";case"1month":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}},C=r.target>0?r.current/r.target*100:0,N=Math.max(0,r.target-r.current),D=N>0&&a.monthlyIncome>a.monthlyExpenses?Math.ceil(N/(a.monthlyIncome-a.monthlyExpenses)):0,S=r.sources.map(t=>({name:t.name,value:t.amount,type:t.type})),E=["#10B981","#3B82F6","#8B5CF6","#F59E0B","#EF4444"];return e.jsxs("div",{className:"space-y-6 p-4 bg-gradient-to-br from-slate-50 to-blue-50 dark:from-gray-900 dark:to-blue-900/20 min-h-screen",children:[e.jsxs(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-900/10 to-yellow-500/10 rounded-2xl blur-xl"}),e.jsx(b,{className:"relative bg-gradient-to-r from-blue-900 to-blue-800 text-white border-yellow-500/20",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold flex items-center gap-3",children:[e.jsx(O,{className:"h-6 w-6 sm:h-8 sm:w-8 text-yellow-400"}),"Emergency Fund Builder"]}),e.jsx("p",{className:"text-blue-100 text-sm sm:text-base",children:"Build your financial safety net with personalized recommendations"})]})})})]}),e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsx(b,{className:"bg-gradient-to-br from-yellow-50 to-yellow-100 dark:from-yellow-900/20 dark:to-yellow-800/20",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("button",{onClick:()=>B(!w),className:"w-full flex items-center justify-between text-left",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(Y,{className:"h-5 w-5 text-yellow-600"}),"Emergency fund calculator"]}),w?e.jsx($,{className:"h-5 w-5 text-gray-500"}):e.jsx(U,{className:"h-5 w-5 text-gray-500"})]}),w&&e.jsxs(m.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Age"}),e.jsx(d,{type:"number",value:a.age,onChange:t=>h({...a,age:Number(t.target.value)}),placeholder:"Your age"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Monthly Income"}),e.jsx(d,{type:"number",value:a.monthlyIncome,onChange:t=>h({...a,monthlyIncome:Number(t.target.value)}),placeholder:"Monthly income"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Monthly Expenses"}),e.jsx(d,{type:"number",value:a.monthlyExpenses,onChange:t=>h({...a,monthlyExpenses:Number(t.target.value)}),placeholder:"Monthly expenses"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Dependents"}),e.jsx(d,{type:"number",value:a.dependents,onChange:t=>h({...a,dependents:Number(t.target.value)}),placeholder:"Number of dependents"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Job Security"}),e.jsxs("select",{value:a.jobSecurity,onChange:t=>h({...a,jobSecurity:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[e.jsx("option",{value:"stable",children:"Stable Job"}),e.jsx("option",{value:"unstable",children:"Unstable Job"}),e.jsx("option",{value:"freelancer",children:"Freelancer/Business"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Health Insurance"}),e.jsxs("select",{value:a.healthInsurance,onChange:t=>h({...a,healthInsurance:t.target.value==="true"}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[e.jsx("option",{value:"true",children:"Yes, I have health insurance"}),e.jsx("option",{value:"false",children:"No health insurance"})]})]})]})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsx(m.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},children:e.jsx(b,{className:"bg-gradient-to-br from-orange-50 to-yellow-50 dark:from-orange-900/20 dark:to-yellow-900/20",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5 text-orange-600"}),"Emergency Fund Goal"]}),e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"text-3xl font-bold text-orange-600",children:[C.toFixed(1),"%"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:"of target achieved"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-4",children:e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-yellow-500 h-4 rounded-full transition-all duration-1000",style:{width:`${Math.min(C,100)}%`}})}),e.jsxs("div",{className:"absolute inset-0 flex items-center justify-center text-xs font-medium text-white",children:[p(r.current)," / ",p(r.target)]})]})]}),N>0&&e.jsx("div",{className:"bg-yellow-50 dark:bg-yellow-900/20 p-4 rounded-lg border border-yellow-200 dark:border-yellow-700",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-yellow-800 dark:text-yellow-200",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Gap Analysis"})]}),e.jsxs("div",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:["You need ",e.jsx("strong",{children:p(N)})," more to reach your emergency fund goal."]}),D>0&&e.jsxs("div",{className:"text-sm text-yellow-700 dark:text-yellow-300",children:["At your current savings rate, it will take approximately ",e.jsxs("strong",{children:[D," months"]})," to reach your goal."]})]})}),C>=100&&e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 p-4 rounded-lg border border-green-200 dark:border-green-700",children:e.jsxs("div",{className:"flex items-center gap-2 text-green-800 dark:text-green-200",children:[e.jsx(K,{className:"h-5 w-5"}),e.jsx("span",{className:"text-sm font-medium",children:"Congratulations! You've reached your emergency fund goal!"})]})})]})})}),e.jsx(m.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},children:e.jsx(b,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Fund Distribution"}),S.length>0?e.jsx("div",{className:"h-64",children:e.jsx(te,{width:"100%",height:"100%",children:e.jsxs(re,{children:[e.jsx(le,{data:S,cx:"50%",cy:"50%",innerRadius:60,outerRadius:100,paddingAngle:5,dataKey:"value",children:S.map((t,l)=>e.jsx(ae,{fill:E[l%E.length]},`cell-${l}`))}),e.jsx(se,{formatter:t=>p(t)})]})})}):e.jsx("div",{className:"h-64 flex items-center justify-center text-gray-500",children:e.jsxs("div",{className:"text-center",children:[e.jsx(k,{className:"h-12 w-12 mx-auto mb-2 opacity-50"}),e.jsx("div",{children:"No emergency fund sources added yet"})]})})]})})})]}),e.jsx(m.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:e.jsx(b,{className:"bg-gradient-to-br from-green-50 to-emerald-50 dark:from-green-900/20 dark:to-emerald-900/20",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 flex items-center gap-2",children:[e.jsx(k,{className:"h-5 w-5 text-green-600"}),"Emergency Fund Sources"]}),e.jsxs(x,{variant:"primary",size:"small",onClick:()=>j(!F),className:"flex items-center gap-2",children:[e.jsx(A,{className:"h-4 w-4"}),"Add Source"]})]}),F&&e.jsxs(m.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"space-y-4 p-4 bg-white dark:bg-gray-800 rounded-lg border border-green-200 dark:border-green-700",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Source Name"}),e.jsx(d,{type:"text",value:s.name,onChange:t=>u({...s,name:t.target.value}),placeholder:"e.g., HDFC Savings, SBI FD"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Type"}),e.jsxs("select",{value:s.type,onChange:t=>u({...s,type:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[e.jsx("option",{value:"savings",children:"Savings Account"}),e.jsx("option",{value:"fd",children:"Fixed Deposit"}),e.jsx("option",{value:"mutual_fund",children:"Mutual Fund"}),e.jsx("option",{value:"liquid_fund",children:"Liquid Fund"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Amount"}),e.jsx(d,{type:"number",value:s.amount,onChange:t=>u({...s,amount:t.target.value}),placeholder:"Amount saved"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Interest Rate (%)"}),e.jsx(d,{type:"number",step:"0.1",value:s.interestRate,onChange:t=>u({...s,interestRate:t.target.value}),placeholder:"Annual interest rate"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Liquidity"}),e.jsxs("select",{value:s.liquidity,onChange:t=>u({...s,liquidity:t.target.value}),className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100",children:[e.jsx("option",{value:"immediate",children:"Immediate"}),e.jsx("option",{value:"1-3days",children:"1-3 Days"}),e.jsx("option",{value:"1week",children:"1 Week"}),e.jsx("option",{value:"1month",children:"1 Month"})]})]}),(s.type==="fd"||s.type==="mutual_fund")&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"Maturity Date"}),e.jsx(d,{type:"date",value:s.maturityDate,onChange:t=>u({...s,maturityDate:t.target.value})})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(x,{variant:"primary",onClick:_,disabled:!s.name||!s.amount,children:"Add Source"}),e.jsx(x,{variant:"secondary",onClick:()=>j(!1),children:"Cancel"})]})]}),e.jsxs("div",{className:"space-y-3",children:[r.sources.map((t,l)=>e.jsx(m.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1*l},className:"p-4 bg-white dark:bg-gray-800 rounded-lg border border-gray-200 dark:border-gray-700",children:R===t.id?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(d,{type:"text",value:t.name,onChange:n=>I(t.id,{name:n.target.value}),placeholder:"Source name"}),e.jsx(d,{type:"number",value:t.amount,onChange:n=>I(t.id,{amount:Number(n.target.value)}),placeholder:"Amount"})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(x,{variant:"primary",size:"small",onClick:()=>v(null),children:"Save"}),e.jsx(x,{variant:"secondary",size:"small",onClick:()=>v(null),children:"Cancel"})]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:`p-2 rounded-lg border ${z(t.type)}`,children:P(t.type)}),e.jsxs("div",{children:[e.jsx("div",{className:"font-semibold text-gray-900 dark:text-gray-100",children:t.name}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 flex flex-wrap items-center gap-1",children:[e.jsx("span",{className:"capitalize",children:t.type.replace("_"," ")}),e.jsx("span",{children:"•"}),e.jsx("span",{className:`px-2 py-1 rounded-full text-xs ${J(t.liquidity)}`,children:t.liquidity.replace("-"," to ")}),t.interestRate>0&&e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"•"}),e.jsxs("span",{children:[t.interestRate,"% p.a."]})]})]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("div",{className:"text-lg font-bold text-gray-900 dark:text-gray-100",children:p(t.amount)}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[(t.amount/r.current*100).toFixed(1),"% of total"]})]})]}),e.jsxs("div",{className:"flex items-center justify-end space-x-2 pt-2 border-t border-gray-100 dark:border-gray-700",children:[e.jsx(x,{variant:"ghost",size:"small",onClick:()=>v(t.id),className:"p-2",children:e.jsx(W,{className:"h-4 w-4"})}),e.jsx(x,{variant:"ghost",size:"small",onClick:()=>T(t.id),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:e.jsx(Q,{className:"h-4 w-4"})})]})]})},t.id)),r.sources.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx(k,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No emergency fund sources yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Start building your emergency fund by adding your first source"}),e.jsxs(x,{variant:"primary",onClick:()=>j(!0),className:"flex items-center gap-2 mx-auto",children:[e.jsx(A,{className:"h-4 w-4"}),"Add Your First Source"]})]})]})]})})})]})};export{ye as default};
