import{j as e,m as i}from"./ui-CeF3mqTb.js";import{r as o}from"./router-x15TIwzH.js";import{C as d}from"./Card-BuWKqhYc.js";import{B as l}from"./index-DbxcNNxi.js";import{g as A,a as I,G as a,b as u,P as g,d as L,u as _}from"./goalsStorage-C35YRfqL.js";import{T as c,i as j,w as v,Y as z,z as U,m as $,ag as w,s as p,af as H,h as V,c as B,q as Y}from"./icons-BP9Be9z0.js";import{f as N}from"./utils-BLxLozLB.js";import"./vendor-Csw2ODfV.js";const ee=()=>{const[n,k]=o.useState([]),[r,D]=o.useState(null),[E,b]=o.useState(!0);o.useEffect(()=>{h()},[]);const h=()=>{b(!0);try{const s=A(),t=I();k(s),D(t)}catch(s){console.error("Error loading dashboard data:",s)}finally{b(!1)}},C=()=>n.filter(s=>s.status!==a.ARCHIVED).sort((s,t)=>new Date(t.updatedAt)-new Date(s.updatedAt)).slice(0,5),P=()=>{const s=new Date;return n.filter(t=>t.status!==a.COMPLETED&&t.status!==a.ARCHIVED&&new Date(t.targetDate)>s).sort((t,m)=>new Date(t.targetDate)-new Date(m.targetDate)).slice(0,3)},S=()=>{const s=new Date;return n.filter(t=>t.status!==a.COMPLETED&&t.status!==a.ARCHIVED&&new Date(t.targetDate)<s)},T=s=>{switch(s){case g.CRITICAL:return"text-red-600 bg-red-100 dark:bg-red-900/30";case g.HIGH:return"text-orange-600 bg-orange-100 dark:bg-orange-900/30";case g.MEDIUM:return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30";case g.LOW:return"text-green-600 bg-green-100 dark:bg-green-900/30";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/30"}},G=s=>{switch(s){case u.SHORT_TERM:return"from-green-500 to-emerald-500";case u.MID_TERM:return"from-blue-500 to-indigo-500";case u.LONG_TERM:return"from-purple-500 to-pink-500";default:return"from-gray-500 to-gray-600"}},O=async s=>{window.confirm("Are you sure you want to delete this goal?")&&L(s)&&h()},x=async(s,t)=>{_(s,{status:t,completedAt:t===a.COMPLETED?new Date().toISOString():null})&&h()},R=s=>{switch(s){case a.COMPLETED:return"text-green-600 bg-green-100 dark:bg-green-900/30";case a.IN_PROGRESS:return"text-blue-600 bg-blue-100 dark:bg-blue-900/30";case a.PAUSED:return"text-yellow-600 bg-yellow-100 dark:bg-yellow-900/30";case a.NOT_STARTED:return"text-gray-600 bg-gray-100 dark:bg-gray-900/30";default:return"text-gray-600 bg-gray-100 dark:bg-gray-900/30"}};C();const f=P(),y=S();return E?e.jsx("div",{className:"flex items-center justify-center min-h-screen",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-500/5 to-indigo-500/5 rounded-2xl sm:rounded-3xl blur-xl"}),e.jsx(d,{variant:"glass",className:"relative",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("h1",{className:"text-gradient flex items-center gap-2 sm:gap-3 bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-400 dark:to-indigo-400 bg-clip-text text-transparent",children:[e.jsx(c,{className:"h-6 w-6 sm:h-8 sm:w-8 text-blue-500 animate-pulse"}),"GoalOS"]}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm sm:text-base",children:"Track your progress and achieve your dreams"})]})})]}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsx(d,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{className:"h-5 w-5 text-orange-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Upcoming Deadlines"})]}),e.jsxs(l,{variant:"primary",size:"sm",className:"flex items-center space-x-2",children:[e.jsx(v,{className:"h-4 w-4"}),e.jsx("span",{children:"New Goal"})]})]}),e.jsx("div",{className:"space-y-3",children:f.length>0?f.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg bg-gray-50 dark:bg-gray-800/50",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{className:"font-medium text-gray-900 dark:text-gray-100",children:s.title}),e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Due: ",N(new Date(s.targetDate),"MMM dd, yyyy")]})]}),e.jsxs("div",{className:"text-right",children:[e.jsxs("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:[s.progress,"%"]}),e.jsx("div",{className:"w-16 bg-gray-200 dark:bg-gray-700 rounded-full h-1.5 mt-1",children:e.jsx("div",{className:"bg-orange-500 h-1.5 rounded-full",style:{width:`${s.progress}%`}})})]})]},s.id)):e.jsxs("div",{className:"text-center py-6",children:[e.jsx(j,{className:"h-12 w-12 text-gray-400 mx-auto mb-2"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No upcoming deadlines"})]})})]})})}),e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsx(d,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(c,{className:"h-5 w-5 text-blue-500"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:"Recent Goals"})]}),e.jsx(l,{variant:"secondary",size:"sm",children:"View All"})]}),e.jsx("div",{className:"space-y-4",children:n.length>0?n.slice(0,3).map((s,t)=>e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:t*.05},className:"relative overflow-hidden rounded-xl bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:shadow-lg dark:hover:shadow-gray-900/20 transition-all duration-300 hover:border-blue-300 dark:hover:border-blue-600",children:[e.jsx("div",{className:`absolute top-0 left-0 right-0 h-1 ${s.status===a.COMPLETED?"bg-green-500":s.status===a.IN_PROGRESS?"bg-blue-500":s.status===a.PAUSED?"bg-yellow-500":"bg-gray-300"}`}),e.jsxs("div",{className:"p-4 sm:p-5",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-br ${G(s.type)} rounded-xl flex items-center justify-center flex-shrink-0 shadow-md`,children:e.jsx(c,{className:"h-5 w-5 sm:h-6 sm:w-6 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-gray-900 dark:text-gray-100 hover:text-blue-600 dark:hover:text-blue-400 cursor-pointer transition-colors line-clamp-1",children:s.title}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${T(s.priority)}`,children:s.priority}),e.jsx("span",{className:`text-xs px-2 py-1 rounded-full font-medium ${R(s.status)}`,children:s.status.replace("-"," ")})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(l,{size:"sm",variant:"ghost",className:"p-2",children:e.jsx(z,{className:"h-4 w-4"})}),e.jsx(l,{size:"sm",variant:"ghost",onClick:()=>O(s.id),className:"p-2 text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/20",children:e.jsx(U,{className:"h-4 w-4"})})]})]}),s.description&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4 line-clamp-2",children:s.description}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:"Progress"}),e.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-gray-100",children:[s.progress,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2.5 overflow-hidden",children:e.jsx("div",{className:`h-full rounded-full transition-all duration-500 ${s.progress===100?"bg-green-500":s.progress>=75?"bg-blue-500":s.progress>=50?"bg-yellow-500":"bg-orange-500"}`,style:{width:`${s.progress}%`}})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(j,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Due Date"}),e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100",children:N(new Date(s.targetDate),"MMM dd, yyyy")})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx($,{className:"h-4 w-4 text-gray-500"}),e.jsxs("div",{children:[e.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Type"}),e.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-gray-100 capitalize",children:s.type.replace("-"," ")})]})]})]}),s.tags&&s.tags.length>0&&e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex flex-wrap gap-1.5",children:[s.tags.slice(0,4).map((m,M)=>e.jsxs("span",{className:"text-xs bg-blue-50 dark:bg-blue-900/20 text-blue-700 dark:text-blue-300 px-2.5 py-1 rounded-full font-medium border border-blue-200 dark:border-blue-800",children:["#",m]},M)),s.tags.length>4&&e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 px-2.5 py-1",children:["+",s.tags.length-4," more"]})]})}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.status===a.NOT_STARTED&&e.jsxs(l,{size:"sm",variant:"primary",onClick:()=>x(s.id,a.IN_PROGRESS),className:"flex items-center space-x-2 flex-1 sm:flex-none",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsx("span",{children:"Start Goal"})]}),s.status===a.IN_PROGRESS&&e.jsxs(e.Fragment,{children:[e.jsxs(l,{size:"sm",variant:"success",onClick:()=>x(s.id,a.COMPLETED),className:"flex items-center space-x-2 flex-1 sm:flex-none",children:[e.jsx(p,{className:"h-4 w-4"}),e.jsx("span",{children:"Complete"})]}),e.jsxs(l,{size:"sm",variant:"secondary",onClick:()=>x(s.id,a.PAUSED),className:"flex items-center space-x-2 flex-1 sm:flex-none",children:[e.jsx(H,{className:"h-4 w-4"}),e.jsx("span",{children:"Pause"})]})]}),s.status===a.PAUSED&&e.jsxs(l,{size:"sm",variant:"primary",onClick:()=>x(s.id,a.IN_PROGRESS),className:"flex items-center space-x-2 flex-1 sm:flex-none",children:[e.jsx(w,{className:"h-4 w-4"}),e.jsx("span",{children:"Resume"})]}),s.status===a.COMPLETED&&e.jsxs("div",{className:"flex items-center space-x-2 text-green-600 dark:text-green-400",children:[e.jsx(p,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:"Completed!"})]}),e.jsx(l,{size:"sm",variant:"secondary",className:"w-full",children:"View Details"})]})]})]},s.id)):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(c,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-medium text-gray-900 dark:text-gray-100 mb-2",children:"No goals yet"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Create your first goal to get started on your journey!"}),e.jsxs(l,{variant:"primary",children:[e.jsx(v,{className:"h-4 w-4 mr-2"}),"Create Goal"]})]})})]})})}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsx(i.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.3},children:e.jsxs(d,{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-3",children:e.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-full",children:e.jsx(p,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})}),e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:[r?.completed||0,"/",r?.total||0]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Completed Goals"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${r?.total>0?(r?.completed||0)/r?.total*100:0}%`}})}),e.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[r?.total>0?Math.round((r?.completed||0)/r?.total*100):0,"% Complete"]})]})]})}),e.jsx(i.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4},children:e.jsxs(d,{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-3",children:e.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-full",children:e.jsx(c,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:r?.total||0}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Total Goals"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:"100%"}})}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"All Time"})]})]})}),e.jsx(i.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.5},children:e.jsxs(d,{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-3",children:e.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-full",children:e.jsx(V,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:r?.inProgress||0}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"In Progress"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-orange-600 h-2 rounded-full transition-all duration-300",style:{width:`${r?.total>0?(r?.inProgress||0)/r?.total*100:0}%`}})}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Active Goals"})]})]})}),e.jsx(i.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.6},children:e.jsxs(d,{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-3",children:e.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-full",children:e.jsx(B,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})}),e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:[Math.round(r?.averageProgress||0),"%"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Avg Progress"}),e.jsxs("div",{className:"mt-2",children:[e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${Math.round(r?.averageProgress||0)}%`}})}),e.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"Overall Progress"})]})]})})]}),y.length>0&&e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},children:e.jsx(d,{className:"border-red-200 dark:border-red-800 bg-red-50/50 dark:bg-red-900/10",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Y,{className:"h-5 w-5 text-red-500 animate-pulse"}),e.jsxs("h2",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100",children:["Overdue Goals (",y.length,")"]})]}),e.jsx("div",{className:"space-y-2",children:y.slice(0,3).map(s=>e.jsxs("div",{className:"flex items-center justify-between p-3 bg-white dark:bg-gray-800 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-gray-900 dark:text-gray-100",children:s.title}),e.jsxs("p",{className:"text-sm text-red-600 dark:text-red-400",children:["Due: ",N(new Date(s.targetDate),"MMM dd, yyyy")]})]}),e.jsx(l,{size:"sm",variant:"primary",children:"Update"})]},s.id))})]})})})]})};export{ee as default};
