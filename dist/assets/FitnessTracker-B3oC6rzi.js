import{j as e,A as T,m as S}from"./ui-CeF3mqTb.js";import{r as d}from"./router-x15TIwzH.js";import{C as x}from"./Card-BuWKqhYc.js";import{D as q,B as i}from"./index-DCndX48W.js";import{I as c}from"./Input-3yWY-vqC.js";import{M as P,S as N}from"./Select-BXt2o8ak.js";import{b as G,d as Y,j as Q,k as U}from"./coreosStorage-BMmsarWl.js";import{aj as p,ak as f,ae as Z,T as _,d as J,al as K,h as V,ad as X,l as ee,x as w}from"./icons-Dv2osvF6.js";import"./vendor-Csw2ODfV.js";import"./utils-D8kRLn_f.js";const xe=()=>{const[W,C]=d.useState(!0),[t,F]=d.useState(null),[h,b]=d.useState("overview"),[L,u]=d.useState(!1),[E,j]=d.useState(!1),[D,A]=d.useState(0),[o,m]=d.useState({type:"strength",duration:60,exercises:[{name:"",sets:3,reps:12,weight:0,notes:""}],mood:"good",difficulty:"medium",location:"gym"}),[n,g]=d.useState({name:"",calories:"",protein:"",carbs:"",fat:"",mealType:"other"});d.useEffect(()=>{k()},[]);const k=async()=>{C(!0);try{const s=await G(),a=Y("fitness");F(s),A(a)}catch(s){console.error("Error loading fitness data:",s)}finally{C(!1)}},r=d.useMemo(()=>{if(!t)return{};const s=t.goals.dailyCalories>0?t.totalCalories/t.goals.dailyCalories*100:0,a=t.goals.dailyProtein>0?t.totalProtein/t.goals.dailyProtein*100:0;return{workoutsToday:t.workoutsToday,totalCalories:Math.round(t.totalCalories),totalProtein:Math.round(t.totalProtein),dailyScore:t.dailyScore,calorieProgress:Math.min(100,s),proteinProgress:Math.min(100,a),mealsLogged:t.meals.length}},[t]),z=async()=>{const s=o.exercises.filter(l=>l.name.trim());if(s.length===0)return;await Q(o.type,s,parseInt(o.duration))&&(await k(),m({type:"strength",duration:60,exercises:[{name:"",sets:3,reps:12,weight:0,notes:""}],mood:"good",difficulty:"medium",location:"gym"}),u(!1))},I=async()=>{if(!n.name.trim()||!n.calories)return;await U(n.name,parseFloat(n.calories),parseFloat(n.protein)||0,parseFloat(n.carbs)||0,parseFloat(n.fat)||0)&&(await k(),g({name:"",calories:"",protein:"",carbs:"",fat:"",mealType:"other"}),j(!1))},$=()=>{m(s=>({...s,exercises:[...s.exercises,{name:"",sets:3,reps:12,weight:0,notes:""}]}))},v=(s,a,l)=>{m(y=>({...y,exercises:y.exercises.map((M,H)=>H===s?{...M,[a]:l}:M)}))},O=s=>{o.exercises.length>1&&m(a=>({...a,exercises:a.exercises.filter((l,y)=>y!==s)}))},B=s=>{switch(s){case"strength":return"💪";case"cardio":return"🏃";case"flexibility":return"🧘";case"sports":return"⚽";default:return"🏋️"}},R=s=>{switch(s){case"breakfast":return"🌅";case"lunch":return"🌞";case"dinner":return"🌙";case"snack":return"🍎";default:return"🍽️"}};return W?e.jsx(q,{}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900 dark:text-gray-100",children:"Fitness Tracker"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Track workouts, nutrition, and body metrics"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs(i,{variant:"secondary",onClick:()=>j(!0),children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Log Meal"]}),e.jsxs(i,{variant:"primary",onClick:()=>u(!0),children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Log Workout"]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(x,{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-3",children:e.jsx("div",{className:"p-3 bg-orange-100 dark:bg-orange-900/30 rounded-full",children:e.jsx(f,{className:"h-6 w-6 text-orange-600 dark:text-orange-400"})})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:r.workoutsToday}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Workouts Today"}),e.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1",children:[e.jsx("span",{className:"text-2xl",children:"🔥"}),e.jsx("span",{className:"font-bold text-orange-600",children:D}),e.jsx("span",{className:"text-xs text-gray-500",children:"day streak"})]})]}),e.jsxs(x,{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-3",children:e.jsx("div",{className:"p-3 bg-green-100 dark:bg-green-900/30 rounded-full",children:e.jsx(p,{className:"h-6 w-6 text-green-600 dark:text-green-400"})})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:r.totalCalories}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Calories Today"}),e.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-green-600 h-2 rounded-full transition-all duration-300",style:{width:`${r.calorieProgress}%`}})}),e.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[Math.round(r.calorieProgress),"% of goal"]})]}),e.jsxs(x,{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-3",children:e.jsx("div",{className:"p-3 bg-blue-100 dark:bg-blue-900/30 rounded-full",children:e.jsx(Z,{className:"h-6 w-6 text-blue-600 dark:text-blue-400"})})}),e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:[r.totalProtein,"g"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Protein Today"}),e.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-blue-600 h-2 rounded-full transition-all duration-300",style:{width:`${r.proteinProgress}%`}})}),e.jsxs("span",{className:"text-xs text-gray-500 mt-1",children:[Math.round(r.proteinProgress),"% of goal"]})]}),e.jsxs(x,{className:"text-center",children:[e.jsx("div",{className:"flex items-center justify-center mb-3",children:e.jsx("div",{className:"p-3 bg-purple-100 dark:bg-purple-900/30 rounded-full",children:e.jsx(_,{className:"h-6 w-6 text-purple-600 dark:text-purple-400"})})}),e.jsxs("h3",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:[r.dailyScore,"%"]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Daily Score"}),e.jsx("div",{className:"mt-2 w-full bg-gray-200 dark:bg-gray-700 rounded-full h-2",children:e.jsx("div",{className:"bg-purple-600 h-2 rounded-full transition-all duration-300",style:{width:`${r.dailyScore}%`}})})]})]}),e.jsxs("div",{className:"flex items-center gap-2 overflow-x-auto",children:[e.jsxs(i,{variant:h==="overview"?"primary":"ghost",size:"small",onClick:()=>b("overview"),children:[e.jsx(J,{className:"h-4 w-4 mr-2"}),"Overview"]}),e.jsxs(i,{variant:h==="workouts"?"primary":"ghost",size:"small",onClick:()=>b("workouts"),children:[e.jsx(f,{className:"h-4 w-4 mr-2"}),"Workouts (",r.workoutsToday,")"]}),e.jsxs(i,{variant:h==="nutrition"?"primary":"ghost",size:"small",onClick:()=>b("nutrition"),children:[e.jsx(p,{className:"h-4 w-4 mr-2"}),"Nutrition (",r.mealsLogged,")"]})]}),h==="overview"&&e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs(x,{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Today's Goals"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Calories (",r.totalCalories,"/",t?.goals.dailyCalories,")"]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(r.calorieProgress),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:e.jsx("div",{className:"bg-green-600 h-3 rounded-full transition-all duration-300",style:{width:`${r.calorieProgress}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Protein (",r.totalProtein,"g/",t?.goals.dailyProtein,"g)"]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(r.proteinProgress),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:e.jsx("div",{className:"bg-blue-600 h-3 rounded-full transition-all duration-300",style:{width:`${r.proteinProgress}%`}})})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Weekly Workouts (",r.workoutsToday,"/",t?.goals.weeklyWorkouts,")"]}),e.jsxs("span",{className:"text-sm text-gray-500",children:[Math.round(r.workoutsToday/t?.goals.weeklyWorkouts*100),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 dark:bg-gray-700 rounded-full h-3",children:e.jsx("div",{className:"bg-orange-600 h-3 rounded-full transition-all duration-300",style:{width:`${Math.min(100,r.workoutsToday/t?.goals.weeklyWorkouts*100)}%`}})})]})]})]}),e.jsxs(x,{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-4",children:"Quick Actions"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(i,{variant:"secondary",className:"h-20 flex-col",onClick:()=>u(!0),children:[e.jsx(f,{className:"h-6 w-6 mb-2"}),e.jsx("span",{className:"text-sm",children:"Log Workout"})]}),e.jsxs(i,{variant:"secondary",className:"h-20 flex-col",onClick:()=>j(!0),children:[e.jsx(p,{className:"h-6 w-6 mb-2"}),e.jsx("span",{className:"text-sm",children:"Log Meal"})]}),e.jsxs(i,{variant:"secondary",className:"h-20 flex-col",children:[e.jsx(K,{className:"h-6 w-6 mb-2"}),e.jsx("span",{className:"text-sm",children:"Body Weight"})]}),e.jsxs(i,{variant:"secondary",className:"h-20 flex-col",children:[e.jsx(V,{className:"h-6 w-6 mb-2"}),e.jsx("span",{className:"text-sm",children:"Heart Rate"})]})]})]})]}),h==="workouts"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(T,{children:t?.workouts.map((s,a)=>e.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:a*.05},children:e.jsx(x,{children:e.jsx("div",{className:"flex items-start justify-between",children:e.jsxs("div",{className:"flex-grow",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("span",{className:"text-2xl",children:B(s.type)}),e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 capitalize",children:[s.type," Workout"]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(X,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.duration," min"]})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ee,{className:"h-4 w-4"}),e.jsxs("span",{children:[s.exercises.length," exercises"]})]}),e.jsx("span",{className:"capitalize",children:s.mood})]})]})]}),e.jsx("div",{className:"space-y-2",children:s.exercises.map((l,y)=>e.jsx("div",{className:"bg-gray-50 dark:bg-gray-800/50 p-3 rounded-lg",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-medium text-gray-900 dark:text-gray-100",children:l.name}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:[l.sets," × ",l.reps,l.weight>0&&` @ ${l.weight}kg`]})]})},y))})]})})})},s.id))}),t?.workouts.length===0&&e.jsxs(x,{className:"text-center py-12",children:[e.jsx(f,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No workouts logged today"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Start your fitness journey by logging your first workout!"}),e.jsxs(i,{onClick:()=>u(!0),children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Log Your First Workout"]})]})]}),h==="nutrition"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(T,{children:t?.meals.map((s,a)=>e.jsx(S.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{delay:a*.05},children:e.jsx(x,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("span",{className:"text-2xl",children:R(s.mealType)}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100",children:s.name}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 dark:text-gray-400",children:[e.jsxs("span",{children:[s.calories," cal"]}),e.jsxs("span",{children:["P: ",s.macros.protein,"g"]}),e.jsxs("span",{children:["C: ",s.macros.carbs,"g"]}),e.jsxs("span",{children:["F: ",s.macros.fat,"g"]})]})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-sm text-gray-500",children:new Date(s.date).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})})})]})})},s.id))}),t?.meals.length===0&&e.jsxs(x,{className:"text-center py-12",children:[e.jsx(p,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-gray-100 mb-2",children:"No meals logged today"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Track your nutrition by logging your meals and macros!"}),e.jsxs(i,{onClick:()=>j(!0),children:[e.jsx(w,{className:"h-4 w-4 mr-2"}),"Log Your First Meal"]})]})]}),e.jsx(P,{isOpen:L,onClose:()=>u(!1),title:"Log Workout",size:"large",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs(N,{label:"Workout Type",value:o.type,onChange:s=>m(a=>({...a,type:s.target.value})),children:[e.jsx("option",{value:"strength",children:"Strength Training"}),e.jsx("option",{value:"cardio",children:"Cardio"}),e.jsx("option",{value:"flexibility",children:"Flexibility"}),e.jsx("option",{value:"sports",children:"Sports"})]}),e.jsx(c,{label:"Duration (minutes)",type:"number",value:o.duration,onChange:s=>m(a=>({...a,duration:s.target.value})),min:"1"})]}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-center mb-3",children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300",children:"Exercises"}),e.jsxs(i,{variant:"ghost",size:"small",onClick:$,children:[e.jsx(w,{className:"h-4 w-4 mr-1"}),"Add Exercise"]})]}),e.jsx("div",{className:"space-y-3 max-h-60 overflow-y-auto",children:o.exercises.map((s,a)=>e.jsxs("div",{className:"p-3 border border-gray-200 dark:border-gray-700 rounded-lg",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[e.jsx(c,{placeholder:"Exercise name",value:s.name,onChange:l=>v(a,"name",l.target.value)}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{placeholder:"Sets",type:"number",value:s.sets,onChange:l=>v(a,"sets",parseInt(l.target.value)||0),min:"1"}),e.jsx(c,{placeholder:"Reps",type:"number",value:s.reps,onChange:l=>v(a,"reps",parseInt(l.target.value)||0),min:"1"}),e.jsx(c,{placeholder:"Weight (kg)",type:"number",value:s.weight,onChange:l=>v(a,"weight",parseFloat(l.target.value)||0),min:"0",step:"0.5"})]})]}),o.exercises.length>1&&e.jsx(i,{variant:"ghost",size:"small",onClick:()=>O(a),className:"text-red-600 hover:text-red-700",children:"Remove"})]},a))})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs(N,{label:"Mood",value:o.mood,onChange:s=>m(a=>({...a,mood:s.target.value})),children:[e.jsx("option",{value:"excellent",children:"Excellent"}),e.jsx("option",{value:"good",children:"Good"}),e.jsx("option",{value:"okay",children:"Okay"}),e.jsx("option",{value:"poor",children:"Poor"})]}),e.jsxs(N,{label:"Difficulty",value:o.difficulty,onChange:s=>m(a=>({...a,difficulty:s.target.value})),children:[e.jsx("option",{value:"easy",children:"Easy"}),e.jsx("option",{value:"medium",children:"Medium"}),e.jsx("option",{value:"hard",children:"Hard"})]}),e.jsx(c,{label:"Location",value:o.location,onChange:s=>m(a=>({...a,location:s.target.value})),placeholder:"e.g., gym, home"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(i,{variant:"secondary",onClick:()=>u(!1),children:"Cancel"}),e.jsx(i,{onClick:z,children:"Log Workout"})]})]})}),e.jsx(P,{isOpen:E,onClose:()=>j(!1),title:"Log Meal",size:"medium",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx(c,{label:"Meal Name",value:n.name,onChange:s=>g(a=>({...a,name:s.target.value})),placeholder:"What did you eat?",required:!0}),e.jsxs(N,{label:"Meal Type",value:n.mealType,onChange:s=>g(a=>({...a,mealType:s.target.value})),children:[e.jsx("option",{value:"breakfast",children:"Breakfast"}),e.jsx("option",{value:"lunch",children:"Lunch"}),e.jsx("option",{value:"dinner",children:"Dinner"}),e.jsx("option",{value:"snack",children:"Snack"}),e.jsx("option",{value:"other",children:"Other"})]})]}),e.jsx(c,{label:"Calories",type:"number",value:n.calories,onChange:s=>g(a=>({...a,calories:s.target.value})),placeholder:"Total calories",min:"0",required:!0}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx(c,{label:"Protein (g)",type:"number",value:n.protein,onChange:s=>g(a=>({...a,protein:s.target.value})),placeholder:"0",min:"0",step:"0.1"}),e.jsx(c,{label:"Carbs (g)",type:"number",value:n.carbs,onChange:s=>g(a=>({...a,carbs:s.target.value})),placeholder:"0",min:"0",step:"0.1"}),e.jsx(c,{label:"Fat (g)",type:"number",value:n.fat,onChange:s=>g(a=>({...a,fat:s.target.value})),placeholder:"0",min:"0",step:"0.1"})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(i,{variant:"secondary",onClick:()=>j(!1),children:"Cancel"}),e.jsx(i,{onClick:I,disabled:!n.name.trim()||!n.calories,children:"Log Meal"})]})]})})]})};export{xe as default};
